
//-----------------------------------------------------------------------------
//  This file contain DDR related functions, used for testing.
//  It includes next functions:
//    - standard Phy and controller initialisation
//    - power mode changing
//
//-----------------------------------------------------------------------------

//-----------------------------------------------------------------------------
//  Initialisation corresponds to next setings:
//-----------------------------------------------------------------------------
#include <stdint.h>

#include <regs/regs_ddr.h>
#include <regs/regs_crg.h>

#include <platform/devices.h>

#include <rumboot/io.h>
#include <rumboot/printf.h>

//-----------------------------------------------------------------------------
//  These defines must be changed for real program
//-----------------------------------------------------------------------------
//-------------------------------------------------------------
//  Selection of necessary DDR Core and Phy configuration
//    It must correspond to:
//      - exact memory part number
//      - usage mode (rtl simulation, netlist simulation, real program ...)
//
//  You can surround includes with ifdefs to move point of choice
//    higher
//-------------------------------------------------------------
// #include "platform/ddr_config/nl__jedec_ddr3_1g_x16_1600g_cl11_bl8.h"
// #include "platform/ddr_config/nl__jedec_ddr3_1g_x16_1600g_cl8_bl8.h"
// #include "platform/ddr_config/rtl__jedec_ddr3_1g_x16_1600g_cl11_bl8.h"
// #include "platform/ddr_config/rtl__jedec_ddr3_1g_x16_1600g_cl8_bl8.h"

#ifdef RUMBOOT_SOC_RTL
#include "platform/ddr_config/rtl__my_mt41k128m8_107_cl11_bl8.h"
#endif

#ifdef RUMBOOT_SOC_POSTLAYOUT
#include "platform/ddr_config/nl__my_mt41k128m8_107_cl11_bl8.h"
#endif

#ifdef CMAKE_BUILD_TYPE_POSTPRODUCTION
 #ifdef PRODUCTION_TESTING
    #include "platform/ddr_config/ddr__mt41j512m8_187e_8_8_533__bist.h"
 #else
    #include "platform/ddr_config/ddr__jedec_ddr3_4g_x16_1333h_8_9_667.h"
 #endif
//#include "platform/ddr_config/ddr__mt41k256m8_125_8_11_800.h"
// #include "platform/ddr_config/ddr__mt41k256m8_125_8_10_667.h"
// #include "platform/ddr_config/ddr__mt41k256m8_125_8_9_667.h"
// #include "platform/ddr_config/ddr__mt41k256m8_125_8_7_533.h"
// #include "platform/ddr_config/ddr__mt41k256m8_125_8_11_800_0_0_0_0_10.h"

// #include "platform/ddr_config/ddr__jedec_ddr3_4g_x16_1333h_8_9_667.h"
#endif
//-------------------------------------------------------------
//  Timeout of PLL lock
//-------------------------------------------------------------
#ifndef CMAKE_BUILD_TYPE_POSTPRODUCTION
#define DDR_TEST_LIB_READY_TIMEOUT        0x1000
#define CRG_DDR_TEST_LIB_READY_TIMEOUT    0x1000
#else
#define DDR_TEST_LIB_READY_TIMEOUT        0x1000000
#define CRG_DDR_TEST_LIB_READY_TIMEOUT    0x1000000
#endif

//-----------------------------------------------------------------------------
//  This function is for program setting registers of one DDR subsystem
//  Arguments:
//    - DDRx_BASE
//        posible values for Basis are:
//          0x0108_0000 DDR0_BASE
//          0x0108_2000 DDR1_BASE
//
//-----------------------------------------------------------------------------
void ddr_registers_init (uint32_t DDRx_BASE)
{
    iowrite32 (DENALI_CTL_00_DATA, DDRx_BASE + DENALI_CTL_00);  //  VERSION:RD:16:16:=0x0000 DRAM_CLASS:RW:8:4:=0x06 START:RW:0:1:=0x00
    iowrite32 (DENALI_CTL_01_DATA, DDRx_BASE + DENALI_CTL_01);  //  READ_DATA_FIFO_DEPTH:RD:24:8:=0x00 MAX_CS_REG:RD:16:1:=0x00 MAX_COL_REG:RD:8:4:=0x00 MAX_ROW_REG:RD:0:5:=0x00
    iowrite32 (DENALI_CTL_02_DATA, DDRx_BASE + DENALI_CTL_02);  //  MEMCD_RMODW_FIFO_DEPTH:RD:24:8:=0x00 WRITE_DATA_FIFO_PTR_WIDTH:RD:16:8:=0x00 WRITE_DATA_FIFO_DEPTH:RD:8:8:=0x00 READ_DATA_FIFO_PTR_WIDTH:RD:0:8:=0x00
    iowrite32 (DENALI_CTL_03_DATA, DDRx_BASE + DENALI_CTL_03);  //  AXI0_RDFIFO_LOG2_DEPTH:RD:24:8:=0x00 AXI0_CMDFIFO_LOG2_DEPTH:RD:16:8:=0x00 ASYNC_CDC_STAGES:RD:8:8:=0x00 MEMCD_RMODW_FIFO_PTR_WIDTH:RD:0:8:=0x00
    iowrite32 (DENALI_CTL_04_DATA, DDRx_BASE + DENALI_CTL_04);  //  AXI0_WRCMD_PROC_FIFO_LOG2_DEPTH:RD:8:8:=0x00 AXI0_WRFIFO_LOG2_DEPTH:RD:0:8:=0x00
    iowrite32 (DENALI_CTL_05_DATA, DDRx_BASE + DENALI_CTL_05);  //  TINIT:RW:0:24:=0x000008
    iowrite32 (DENALI_CTL_06_DATA, DDRx_BASE + DENALI_CTL_06);  //  TRST_PWRON:RW:0:32:=0x000000a0
    iowrite32 (DENALI_CTL_07_DATA, DDRx_BASE + DENALI_CTL_07);  //  CKE_INACTIVE:RW:0:32:=0x00000190
    iowrite32 (DENALI_CTL_08_DATA, DDRx_BASE + DENALI_CTL_08);  //  TBST_INT_INTERVAL:RW:24:3:=0x04 ADDITIVE_LAT:RW:16:5:=0x00 WRLAT:RW:8:5:=0x08 CASLAT_LIN:RW:0:6:=0x10
    iowrite32 (DENALI_CTL_09_DATA, DDRx_BASE + DENALI_CTL_09);  //  TRAS_MIN:RW:24:8:=0x1c TRC:RW:16:8:=0x24 TRRD:RW:8:8:=0x06 TCCD:RW:0:5:=0x04
    iowrite32 (DENALI_CTL_10_DATA, DDRx_BASE + DENALI_CTL_10);  //  TRTP:RW:24:8:=0x06 TFAW:RW:16:8:=0x20 TRP:RW:8:8:=0x08 TWTR:RW:0:6:=0x06
    iowrite32 (DENALI_CTL_11_DATA, DDRx_BASE + DENALI_CTL_11);  //  TMOD:RW:8:8:=0x0c TMRD:RW:0:8:=0x04
    iowrite32 (DENALI_CTL_12_DATA, DDRx_BASE + DENALI_CTL_12);  //  TCKE:RW:24:3:=0x04 TRAS_MAX:RW:0:17:=0x00db60
    iowrite32 (DENALI_CTL_13_DATA, DDRx_BASE + DENALI_CTL_13);  //  TWR:RW:24:6:=0x0c TRCD:RW:16:8:=0x08 WRITEINTERP:RW:8:1:=0x00 TCKESR:RW:0:8:=0x05
    iowrite32 (DENALI_CTL_14_DATA, DDRx_BASE + DENALI_CTL_14);  //  TDAL:RW:24:8:=0x14 TRAS_LOCKOUT:RW:16:1:=0x01 CONCURRENTAP:RW:8:1:=0x01 AP:RW:0:1:=0x00
    iowrite32 (DENALI_CTL_15_DATA, DDRx_BASE + DENALI_CTL_15);  //  OPTIMAL_RMODW_EN:RW:24:1:=0x01 REG_DIMM_ENABLE:RW:16:1:=0x00 TRP_AB:RW:8:8:=0x08 BSTLEN:RW_D:0:3:=0x03
    iowrite32 (DENALI_CTL_16_DATA, DDRx_BASE + DENALI_CTL_16);  //  RESERVED:RW:24:1:=0x00 AREFRESH:WR:16:1:=0x00 RESERVED:RW:8:1:=0x00 RESERVED:RW:0:1:=0x01
    iowrite32 (DENALI_CTL_17_DATA, DDRx_BASE + DENALI_CTL_17);  //  TRFC:RW:8:10:=0x0058 TREF_ENABLE:RW:0:1:=0x01
    iowrite32 (DENALI_CTL_18_DATA, DDRx_BASE + DENALI_CTL_18);  //  TREF:RW:0:14:=0x1858
    iowrite32 (DENALI_CTL_19_DATA, DDRx_BASE + DENALI_CTL_19);  //  TXPDLL:RW:16:16:=0x0014 TPDEX:RW:0:16:=0x0005
    iowrite32 (DENALI_CTL_20_DATA, DDRx_BASE + DENALI_CTL_20);  //  TXSNR:RW:16:16:=0x0060 TXSR:RW:0:16:=0x0200
    iowrite32 (DENALI_CTL_21_DATA, DDRx_BASE + DENALI_CTL_21);  //  CKE_DELAY:RW:24:3:=0x03 ENABLE_QUICK_SREFRESH:RW:16:1:=0x01 RESERVED:RW:8:1:=0x00 PWRUP_SREFRESH_EXIT:RW:0:1:=0x00
    iowrite32 (DENALI_CTL_22_DATA, DDRx_BASE + DENALI_CTL_22);  //  LP_CMD:WR:24:8:=0x00 CKSRX:RW:16:8:=0x08 CKSRE:RW:8:8:=0x08 LOWPOWER_REFRESH_ENABLE:RW:0:1:=0x00
    iowrite32 (DENALI_CTL_23_DATA, DDRx_BASE + DENALI_CTL_23);  //  LPI_TIMER_WAKEUP:RW:24:4:=0x07 LPI_SR_MCCLK_GATE_WAKEUP:RW:16:4:=0x03 LPI_SR_WAKEUP:RW:8:4:=0x02 LPI_PD_WAKEUP:RW:0:4:=0x00
    iowrite32 (DENALI_CTL_24_DATA, DDRx_BASE + DENALI_CTL_24);  //  LPI_TIMER_COUNT:RW:8:12:=0x0003 LPI_WAKEUP_EN:RW:0:5:=0x1f
    iowrite32 (DENALI_CTL_25_DATA, DDRx_BASE + DENALI_CTL_25);  //  LP_STATE:RD:24:6:=0x00 TDFI_LP_RESP:RW:16:3:=0x07 LPI_WAKEUP_TIMEOUT:RW:0:12:=0x0004
    iowrite32 (DENALI_CTL_26_DATA, DDRx_BASE + DENALI_CTL_26);  //  LP_AUTO_MEM_GATE_EN:RW:24:2:=0x00 LP_AUTO_EXIT_EN:RW:16:3:=0x00 LP_AUTO_ENTRY_EN:RW:8:3:=0x00 LP_ARB_STATE:RD:0:4:=0x00
    iowrite32 (DENALI_CTL_27_DATA, DDRx_BASE + DENALI_CTL_27);  //  LP_AUTO_SR_MC_GATE_IDLE:RW:24:8:=0x00 LP_AUTO_SR_IDLE:RW:16:8:=0x00 LP_AUTO_PD_IDLE:RW:0:12:=0x0000
    iowrite32 (DENALI_CTL_28_DATA, DDRx_BASE + DENALI_CTL_28);  //  RESERVED:RW:0:7:=0x00
    iowrite32 (DENALI_CTL_29_DATA, DDRx_BASE + DENALI_CTL_29);  //  WRITE_MODEREG:RW+:0:27:=0x00000000
    iowrite32 (DENALI_CTL_30_DATA, DDRx_BASE + DENALI_CTL_30);  //  MR0_DATA_0:RW:8:16:=0x0c40 MRW_STATUS:RD:0:8:=0x00
    iowrite32 (DENALI_CTL_31_DATA, DDRx_BASE + DENALI_CTL_31);  //  MR2_DATA_0:RW:16:16:=0x0018 MR1_DATA_0:RW:0:16:=0x0046
    iowrite32 (DENALI_CTL_32_DATA, DDRx_BASE + DENALI_CTL_32);  //  MR3_DATA_0:RW:16:16:=0x0000 MRSINGLE_DATA_0:RW:0:16:=0x0000
    iowrite32 (DENALI_CTL_33_DATA, DDRx_BASE + DENALI_CTL_33);  //  ZQINIT:RW_D:8:12:=0x0200 LONG_COUNT_MASK:RW:0:5:=0x00
    iowrite32 (DENALI_CTL_34_DATA, DDRx_BASE + DENALI_CTL_34);  //  ZQCS:RW:16:12:=0x0040 ZQCL:RW:0:12:=0x0100
    iowrite32 (DENALI_CTL_35_DATA, DDRx_BASE + DENALI_CTL_35);  //  ZQ_ON_SREF_EXIT:RW:8:2:=0x02 ZQ_REQ:WR:0:2:=0x00
    iowrite32 (DENALI_CTL_36_DATA, DDRx_BASE + DENALI_CTL_36);  //  ZQ_INTERVAL:RW:0:32:=0x00000040
    iowrite32 (DENALI_CTL_37_DATA, DDRx_BASE + DENALI_CTL_37);  //  COL_DIFF:RW:24:4:=0x00 ROW_DIFF:RW:16:3:=0x03 RESERVED:RW:8:2:=0x00 ZQ_IN_PROGRESS:RD:0:1:=0x00
    iowrite32 (DENALI_CTL_38_DATA, DDRx_BASE + DENALI_CTL_38);  //  AGE_COUNT:RW:24:8:=0xff APREBIT:RW_D:16:4:=0x0a BANK_ADDR_INTLV_EN:RW:8:1:=0x00 BANK_START_BIT:RW:0:5:=0x00
    iowrite32 (DENALI_CTL_39_DATA, DDRx_BASE + DENALI_CTL_39);  //  BANK_SPLIT_EN:RW:24:1:=0x01 RESERVED:RW:16:1:=0x01 ADDR_CMP_EN:RW:8:1:=0x01 COMMAND_AGE_COUNT:RW:0:8:=0xff
    iowrite32 (DENALI_CTL_40_DATA, DDRx_BASE + DENALI_CTL_40);  //  RW_SAME_PAGE_EN:RW:24:1:=0x01 RW_SAME_EN:RW:16:1:=0x01 PRIORITY_EN:RW:8:1:=0x01 PLACEMENT_EN:RW:0:1:=0x01
    iowrite32 (DENALI_CTL_41_DATA, DDRx_BASE + DENALI_CTL_41);  //  DISABLE_RD_INTERLEAVE:RW:24:1:=0x00 SWAP_EN:RW:16:1:=0x01 NUM_Q_ENTRIES_ACT_DISABLE:RW:8:4:=0x08 DISABLE_RW_GROUP_W_BNK_CONFLICT:RW:0:2:=0x01
    iowrite32 (DENALI_CTL_42_DATA, DDRx_BASE + DENALI_CTL_42);  //  Q_FULLNESS:RW:24:4:=0x00 REDUC:RW:16:1:=0x00 BURST_ON_FLY_BIT:RW:8:4:=0x0c INHIBIT_DRAM_CMD:RW:0:1:=0x00
    iowrite32 (DENALI_CTL_43_DATA, DDRx_BASE + DENALI_CTL_43);  //  CTRLUPD_REQ_PER_AREF_EN:RW:24:1:=0x01 CTRLUPD_REQ:WR:16:1:=0x00 CONTROLLER_BUSY:RD:8:1:=0x00 IN_ORDER_ACCEPT:RW:0:1:=0x00
    iowrite32 (DENALI_CTL_44_DATA, DDRx_BASE + DENALI_CTL_44);  //  DFI_ERROR_INFO:RD:8:16:=0x0000 DFI_ERROR:RD:0:4:=0x00
    iowrite32 (DENALI_CTL_45_DATA, DDRx_BASE + DENALI_CTL_45);  //  RESERVED:RW+:0:1:=0x00
    iowrite32 (DENALI_CTL_46_DATA, DDRx_BASE + DENALI_CTL_46);  //
    iowrite32 (DENALI_CTL_47_DATA, DDRx_BASE + DENALI_CTL_47);  //
    iowrite32 (DENALI_CTL_48_DATA, DDRx_BASE + DENALI_CTL_48);  //  OUT_OF_RANGE_ADDR:RD:0:30:=0x00000000
    iowrite32 (DENALI_CTL_49_DATA, DDRx_BASE + DENALI_CTL_49);  //  OUT_OF_RANGE_SOURCE_ID:RD:16:16:=0x0000 OUT_OF_RANGE_TYPE:RD:8:7:=0x00 OUT_OF_RANGE_LENGTH:RD:0:7:=0x00
    iowrite32 (DENALI_CTL_50_DATA, DDRx_BASE + DENALI_CTL_50);  //  PORT_CMD_ERROR_ADDR:RD:0:30:=0x00000000
    iowrite32 (DENALI_CTL_51_DATA, DDRx_BASE + DENALI_CTL_51);  //  TODTL_2CMD:RW:24:8:=0x07 PORT_CMD_ERROR_TYPE:RD:16:2:=0x00 PORT_CMD_ERROR_ID:RD:0:16:=0x0000
    iowrite32 (DENALI_CTL_52_DATA, DDRx_BASE + DENALI_CTL_52);  //  R2R_SAMECS_DLY:RW:24:5:=0x00 RESERVED:RW:16:5:=0x00 ODT_EN:RW:8:1:=0x01 TODTH_WR:RW:0:4:=0x06
    iowrite32 (DENALI_CTL_53_DATA, DDRx_BASE + DENALI_CTL_53);  //  SW_LEVELING_MODE:RW:24:3:=0x00 W2W_SAMECS_DLY:RW:16:5:=0x00 W2R_SAMECS_DLY:RW:8:5:=0x00 R2W_SAMECS_DLY:RW_D:0:5:=0x02
    iowrite32 (DENALI_CTL_54_DATA, DDRx_BASE + DENALI_CTL_54);  //  SWLVL_OP_DONE:RD:24:1:=0x00 SWLVL_EXIT:WR:16:1:=0x00 SWLVL_START:WR:8:1:=0x00 SWLVL_LOAD:WR:0:1:=0x00
    iowrite32 (DENALI_CTL_55_DATA, DDRx_BASE + DENALI_CTL_55);  //  SWLVL_RESP_2:RD:16:1:=0x00 SWLVL_RESP_1:RD:8:1:=0x00 SWLVL_RESP_0:RD:0:1:=0x00
    iowrite32 (DENALI_CTL_56_DATA, DDRx_BASE + DENALI_CTL_56);  //  WLMRD:RW:24:6:=0x28 WLDQSEN:RW:16:6:=0x0d WRLVL_CS:RW:8:1:=0x00 WRLVL_REQ:WR:0:1:=0x00
    iowrite32 (DENALI_CTL_57_DATA, DDRx_BASE + DENALI_CTL_57);  //  DFI_PHY_WRLVL_MODE:RW:24:1:=0x01 WRLVL_INTERVAL:RW:8:16:=0x0000 WRLVL_EN:RW:0:1:=0x00
    iowrite32 (DENALI_CTL_58_DATA, DDRx_BASE + DENALI_CTL_58);  //  WRLVL_AREF_EN:RW:24:1:=0x01 WRLVL_RESP_MASK:RW:16:3:=0x00 WRLVL_ON_SREF_EXIT:RW:8:1:=0x00 WRLVL_PERIODIC:RW:0:1:=0x00
    iowrite32 (DENALI_CTL_59_DATA, DDRx_BASE + DENALI_CTL_59);  //  RDLVL_CS:RW:24:1:=0x00 RDLVL_GATE_REQ:WR:16:1:=0x00 RDLVL_REQ:WR:8:1:=0x00 WRLVL_ERROR_STATUS:RD:0:2:=0x00
    iowrite32 (DENALI_CTL_60_DATA, DDRx_BASE + DENALI_CTL_60);  //  DFI_PHY_RDLVL_GATE_MODE:RW:24:1:=0x01 DFI_PHY_RDLVL_MODE:RW:16:1:=0x01 RDLVL_GATE_SEQ_EN:RW:8:1:=0x00 RDLVL_SEQ_EN:RW:0:1:=0x00
    iowrite32 (DENALI_CTL_61_DATA, DDRx_BASE + DENALI_CTL_61);  //  RDLVL_GATE_ON_SREF_EXIT:RW:24:1:=0x00 RDLVL_GATE_PERIODIC:RW:16:1:=0x00 RDLVL_ON_SREF_EXIT:RW:8:1:=0x00 RDLVL_PERIODIC:RW:0:1:=0x00
    iowrite32 (DENALI_CTL_62_DATA, DDRx_BASE + DENALI_CTL_62);  //  AXI0_R_PRIORITY:RW:24:1:=0x01 AXI0_FIXED_PORT_PRIORITY_ENABLE:RW:16:1:=0x00 AXI0_ALL_STROBES_USED_ENABLE:RW:8:1:=0x00 RDLVL_AREF_EN:RW:0:1:=0x01
    iowrite32 (DENALI_CTL_63_DATA, DDRx_BASE + DENALI_CTL_63);  //  MEM_RST_VALID:RD:24:1:=0x00 CKE_STATUS:RD:16:1:=0x00 AXI0_FIFO_TYPE_REG:RW:8:2:=0x00 AXI0_W_PRIORITY:RW:0:1:=0x01
    iowrite32 (DENALI_CTL_64_DATA, DDRx_BASE + DENALI_CTL_64);  //  TDFI_PHY_WRLAT:RD:24:6:=0x00 DLL_RST_ADJ_DLY:RW:16:8:=0x00 DLL_RST_DELAY:RW:0:16:=0x0000
    iowrite32 (DENALI_CTL_65_DATA, DDRx_BASE + DENALI_CTL_65);  //  DRAM_CLK_DISABLE:RW:24:1:=0x00 TDFI_RDDATA_EN:RD:16:6:=0x00 TDFI_PHY_RDLAT:RW_D:8:6:=0x17 UPDATE_ERROR_STATUS:RD:0:7:=0x00
    iowrite32 (DENALI_CTL_66_DATA, DDRx_BASE + DENALI_CTL_66);  //  TDFI_CTRLUPD_MAX:RW:8:14:=0x30b0 TDFI_CTRLUPD_MIN:RW:0:4:=0x05
    iowrite32 (DENALI_CTL_67_DATA, DDRx_BASE + DENALI_CTL_67);  //  TDFI_PHYUPD_TYPE1:RW:16:16:=0x0200 TDFI_PHYUPD_TYPE0:RW:0:16:=0x0200
    iowrite32 (DENALI_CTL_68_DATA, DDRx_BASE + DENALI_CTL_68);  //  TDFI_PHYUPD_TYPE3:RW:16:16:=0x0200 TDFI_PHYUPD_TYPE2:RW:0:16:=0x0200
    iowrite32 (DENALI_CTL_69_DATA, DDRx_BASE + DENALI_CTL_69);  //  TDFI_PHYUPD_RESP:RW:0:14:=0x30b0
    iowrite32 (DENALI_CTL_70_DATA, DDRx_BASE + DENALI_CTL_70);  //  TDFI_CTRLUPD_INTERVAL:RW:0:32:=0x0001e6e0
    iowrite32 (DENALI_CTL_71_DATA, DDRx_BASE + DENALI_CTL_71);  //  TDFI_DRAM_CLK_DISABLE:RW:24:4:=0x02 TDFI_CTRL_DELAY:RW_D:16:4:=0x02 WRLAT_ADJ:RW:8:6:=0x07 RDLAT_ADJ:RW:0:6:=0x06
    iowrite32 (DENALI_CTL_72_DATA, DDRx_BASE + DENALI_CTL_72);  //  TDFI_WRLVL_WW:RW:16:10:=0x0014 TDFI_WRLVL_EN:RW:8:8:=0x03 TDFI_DRAM_CLK_ENABLE:RW:0:4:=0x03
    iowrite32 (DENALI_CTL_73_DATA, DDRx_BASE + DENALI_CTL_73);  //  TDFI_WRLVL_RESP:RW:0:32:=0x00000000
    iowrite32 (DENALI_CTL_74_DATA, DDRx_BASE + DENALI_CTL_74);  //  TDFI_WRLVL_MAX:RW:0:32:=0x00000000
    iowrite32 (DENALI_CTL_75_DATA, DDRx_BASE + DENALI_CTL_75);  //  TDFI_RDLVL_RR:RW:8:10:=0x0014 TDFI_RDLVL_EN:RW:0:8:=0x03
    iowrite32 (DENALI_CTL_76_DATA, DDRx_BASE + DENALI_CTL_76);  //  TDFI_RDLVL_RESP:RW:0:32:=0x000007d0
    iowrite32 (DENALI_CTL_77_DATA, DDRx_BASE + DENALI_CTL_77);  //  RDLVL_GATE_EN:RW:16:1:=0x00 RDLVL_EN:RW:8:1:=0x00 RDLVL_RESP_MASK:RW:0:3:=0x00
    iowrite32 (DENALI_CTL_78_DATA, DDRx_BASE + DENALI_CTL_78);  //  TDFI_RDLVL_MAX:RW:0:32:=0x00000000
    iowrite32 (DENALI_CTL_79_DATA, DDRx_BASE + DENALI_CTL_79);  //  RDLVL_INTERVAL:RW:8:16:=0x0000 RDLVL_ERROR_STATUS:RD:0:2:=0x00
    iowrite32 (DENALI_CTL_80_DATA, DDRx_BASE + DENALI_CTL_80);  //  TDFI_RDCSLAT:RW:24:6:=0x07 TDFI_PHY_WRDATA:RW:16:3:=0x01 RDLVL_GATE_INTERVAL:RW:0:16:=0x0000
    iowrite32 (DENALI_CTL_81_DATA, DDRx_BASE + DENALI_CTL_81);  //  FWC:WR:16:1:=0x00 ECC_EN:RW:8:1:=0x01 TDFI_WRCSLAT:RW:0:6:=0x06
    iowrite32 (DENALI_CTL_82_DATA, DDRx_BASE + DENALI_CTL_82);  //  ECC_DISABLE_W_UC_ERR:RW:24:1:=0x00 ECC_WRITEBACK_EN:RW:16:1:=0x00 XOR_CHECK_BITS:RW:0:14:=0x0000
    iowrite32 (DENALI_CTL_83_DATA, DDRx_BASE + DENALI_CTL_83);  //  ECC_U_ADDR:RD:0:30:=0x00000000
    iowrite32 (DENALI_CTL_84_DATA, DDRx_BASE + DENALI_CTL_84);  //  ECC_U_SYND:RD:0:7:=0x00
    iowrite32 (DENALI_CTL_85_DATA, DDRx_BASE + DENALI_CTL_85);  //  ECC_U_DATA:RD:0:32:=0x00000000
    iowrite32 (DENALI_CTL_86_DATA, DDRx_BASE + DENALI_CTL_86);  //  ECC_C_ADDR:RD:0:30:=0x00000000
    iowrite32 (DENALI_CTL_87_DATA, DDRx_BASE + DENALI_CTL_87);  //  ECC_C_SYND:RD:0:7:=0x00
    iowrite32 (DENALI_CTL_88_DATA, DDRx_BASE + DENALI_CTL_88);  //  ECC_C_DATA:RD:0:32:=0x00000000
    iowrite32 (DENALI_CTL_89_DATA, DDRx_BASE + DENALI_CTL_89);  //  ECC_C_ID:RD:16:16:=0x0000 ECC_U_ID:RD:0:16:=0x0000
    iowrite32 (DENALI_CTL_90_DATA, DDRx_BASE + DENALI_CTL_90);  //  ECC_SCRUB_MODE:RW:24:1:=0x00 ECC_SCRUB_LEN:RW:16:7:=0x08 ECC_SCRUB_IN_PROGRESS:RD:8:1:=0x00 ECC_SCRUB_START:WR:0:1:=0x00
    iowrite32 (DENALI_CTL_91_DATA, DDRx_BASE + DENALI_CTL_91);  //  ECC_SCRUB_IDLE_CNT:RW:16:16:=0x0064 ECC_SCRUB_INTERVAL:RW:0:16:=0x03e8
    iowrite32 (DENALI_CTL_92_DATA, DDRx_BASE + DENALI_CTL_92);  //  ECC_SCRUB_START_ADDR:RW:0:30:=0x00000000
    iowrite32 (DENALI_CTL_93_DATA, DDRx_BASE + DENALI_CTL_93);  //  ECC_SCRUB_END_ADDR:RW:0:30:=0x00000000
    iowrite32 (DENALI_CTL_94_DATA, DDRx_BASE + DENALI_CTL_94);  //  INT_STATUS:RD:0:30:=0x00000000
    iowrite32 (DENALI_CTL_95_DATA, DDRx_BASE + DENALI_CTL_95);  //  INT_ACK:WR:0:29:=0x00000000
    iowrite32 (DENALI_CTL_96_DATA, DDRx_BASE + DENALI_CTL_96);  //  INT_MASK:RW:0:30:=0x00000000

    iowrite32 ( DENALI_PHY_00_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_00 );  //  PHY_DQ_DM_SWIZZLE0_0:RW:0:32:=0x76543210
    iowrite32 ( DENALI_PHY_01_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_01 );  //  PHY_CLK_WR_BYPASS_SLAVE_DELAY_0:RW:8:11:=0x04c0 PHY_DQ_DM_SWIZZLE1_0:RW:0:4:=0x08
    iowrite32 ( DENALI_PHY_02_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_02 );  //  PHY_SW_WRDQ0_SHIFT_0:RW:24:5:=0x00 PHY_CLK_BYPASS_OVERRIDE_0:RW:16:1:=0x00 PHY_RDDQS_GATE_BYPASS_SLAVE_DELAY_0:RW:0:10:=0x0099
    iowrite32 ( DENALI_PHY_03_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_03 );  //  PHY_SW_WRDQ4_SHIFT_0:RW:24:5:=0x00 PHY_SW_WRDQ3_SHIFT_0:RW:16:5:=0x00 PHY_SW_WRDQ2_SHIFT_0:RW:8:5:=0x00 PHY_SW_WRDQ1_SHIFT_0:RW:0:5:=0x00
    iowrite32 ( DENALI_PHY_04_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_04 );  //  PHY_SW_WRDM_SHIFT_0:RW:24:5:=0x00 PHY_SW_WRDQ7_SHIFT_0:RW:16:5:=0x00 PHY_SW_WRDQ6_SHIFT_0:RW:8:5:=0x00 PHY_SW_WRDQ5_SHIFT_0:RW:0:5:=0x00
    iowrite32 ( DENALI_PHY_05_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_05 );  //  PHY_DQ_TSEL_ENABLE_0:RW:8:3:=0x01 PHY_SW_WRDQS_SHIFT_0:RW:0:4:=0x00
    iowrite32 ( DENALI_PHY_06_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_06 );  //  PHY_DQS_TSEL_ENABLE_0:RW:24:3:=0x01 PHY_DQ_TSEL_SELECT_0:RW:0:24:=0x665555
    iowrite32 ( DENALI_PHY_07_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_07 );  //  PHY_LPBK_CONTROL_0:RW:24:8:=0x00 PHY_DQS_TSEL_SELECT_0:RW:0:24:=0x665555
    iowrite32 ( DENALI_PHY_08_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_08 );  //  PHY_AUTO_TIMING_MARGIN_CONTROL_0:RW:0:32:=0x00000000
    iowrite32 ( DENALI_PHY_09_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_09 );  //  PHY_AUTO_TIMING_MARGIN_OBS_0:RD:0:28:=0x00000000
    iowrite32 ( DENALI_PHY_10_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_10 );  //  PHY_PRBS_PATTERN_MASK_0:RW:16:9:=0x0000 PHY_PRBS_PATTERN_START_0:RW_D:8:7:=0x01 PHY_SLICE_PWR_RDC_DISABLE_0:RW:0:1:=0x00
    iowrite32 ( DENALI_PHY_11_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_11 );  //  SC_PHY_SNAP_OBS_REGS_0:WR:24:1:=0x00 PHY_GATE_ERROR_DELAY_SELECT_0:RW:16:5:=0x17 PHY_RDDQS_DQ_BYPASS_SLAVE_DELAY_0:RW:0:10:=0x00c0
    iowrite32 ( DENALI_PHY_12_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_12 );  //  PHY_RDDQ_ENC_OBS_SELECT_0:RW:24:3:=0x00 PHY_MASTER_DLY_LOCK_OBS_SELECT_0:RW:16:4:=0x00 PHY_SW_FIFO_PTR_RST_DISABLE_0:RW:8:1:=0x00 PHY_SLAVE_LOOP_CNT_UPDATE_0:RW:0:3:=0x00
    iowrite32 ( DENALI_PHY_13_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_13 );  //  PHY_FIFO_PTR_OBS_SELECT_0:RW:24:4:=0x00 PHY_WR_SHIFT_OBS_SELECT_0:RW:16:4:=0x00 PHY_WR_ENC_OBS_SELECT_0:RW:8:4:=0x00 PHY_RDDQS_DQ_ENC_OBS_SELECT_0:RW:0:4:=0x00
    iowrite32 ( DENALI_PHY_14_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_14 );  //  PHY_WRLVL_UPDT_WAIT_CNT_0:RW:24:4:=0x04 PHY_WRLVL_CAPTURE_CNT_0:RW:16:6:=0x08 SC_PHY_LVL_DEBUG_CONT_0:WR:8:1:=0x00 PHY_LVL_DEBUG_MODE_0:RW:0:1:=0x00
    iowrite32 ( DENALI_PHY_15_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_15 );  //  PHY_RDLVL_UPDT_WAIT_CNT_0:RW:24:4:=0x04 PHY_RDLVL_CAPTURE_CNT_0:RW:16:6:=0x08 PHY_GTLVL_UPDT_WAIT_CNT_0:RW:8:4:=0x04 PHY_GTLVL_CAPTURE_CNT_0:RW:0:6:=0x00
    iowrite32 ( DENALI_PHY_16_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_16 );  //  SC_PHY_MANUAL_CLEAR_0:WR:24:5:=0x00 PHY_RDLVL_DATA_MASK_0:RW:16:8:=0x00 PHY_RDLVL_RDDQS_DQ_OBS_SELECT_0:RW:8:4:=0x00 PHY_RDLVL_OP_MODE_0:RW:0:2:=0x00
    iowrite32 ( DENALI_PHY_17_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_17 );  //  PHY_FIFO_PTR_OBS_0:RD:0:8:=0x00
    iowrite32 ( DENALI_PHY_18_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_18 );  //  PHY_LPBK_RESULT_OBS_0:RD:0:32:=0x00000000
    iowrite32 ( DENALI_PHY_19_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_19 );  //  PHY_MASTER_DLY_LOCK_OBS_0:RD:16:10:=0x0000 PHY_LPBK_ERROR_COUNT_OBS_0:RD:0:16:=0x0000
    iowrite32 ( DENALI_PHY_20_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_20 );  //  PHY_RDDQS_DQ_FALL_ADDER_SLV_DLY_ENC_OBS_0:RD:24:8:=0x00 PHY_RDDQS_DQ_RISE_ADDER_SLV_DLY_ENC_OBS_0:RD:16:8:=0x00 PHY_RDDQS_BASE_SLV_DLY_ENC_OBS_0:RD:8:7:=0x00 PHY_RDDQ_SLV_DLY_ENC_OBS_0:RD:0:6:=0x00
    iowrite32 ( DENALI_PHY_21_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_21 );  //  PHY_WRDQ_BASE_SLV_DLY_ENC_OBS_0:RD:24:8:=0x00 PHY_WRDQS_BASE_SLV_DLY_ENC_OBS_0:RD:16:7:=0x00 PHY_RDDQS_GATE_SLV_DLY_ENC_OBS_0:RD:0:10:=0x0000
    iowrite32 ( DENALI_PHY_22_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_22 );  //  PHY_WRLVL_HARD0_DELAY_OBS_0:RD:16:10:=0x0000 PHY_WR_SHIFT_OBS_0:RD:8:3:=0x00 PHY_WR_ADDER_SLV_DLY_ENC_OBS_0:RD:0:8:=0x00
    iowrite32 ( DENALI_PHY_23_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_23 );  //  PHY_WRLVL_HARD1_DELAY_OBS_0:RD:0:10:=0x0000
    iowrite32 ( DENALI_PHY_24_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_24 );  //  PHY_WRLVL_STATUS_OBS_0:RD:0:17:=0x000000
    iowrite32 ( DENALI_PHY_25_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_25 );  //  PHY_GTLVL_HARD1_DELAY_OBS_0:RD:16:14:=0x0000 PHY_GTLVL_HARD0_DELAY_OBS_0:RD:0:14:=0x0000
    iowrite32 ( DENALI_PHY_26_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_26 );  //  PHY_GTLVL_STATUS_OBS_0:RD:0:18:=0x000000
    iowrite32 ( DENALI_PHY_27_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_27 );  //  PHY_RDLVL_RDDQS_DQ_TE_DLY_OBS_0:RD:16:10:=0x0000 PHY_RDLVL_RDDQS_DQ_LE_DLY_OBS_0:RD:0:10:=0x0000
    iowrite32 ( DENALI_PHY_28_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_28 );  //  PHY_RDLVL_RDDQS_DQ_NUM_WINDOWS_OBS_0:RD:0:2:=0x00
    iowrite32 ( DENALI_PHY_29_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_29 );  //  PHY_RDLVL_STATUS_OBS_0:RD:0:32:=0x00000000
    iowrite32 ( DENALI_PHY_30_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_30 );  //  PHY_DDL_MODE_0:RW:0:18:=0x000000
    iowrite32 ( DENALI_PHY_31_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_31 );  //  PHY_DDL_TEST_OBS_0:RD:0:32:=0x00000000
    iowrite32 ( DENALI_PHY_32_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_32 );  //  PHY_DDL_TEST_MSTR_DLY_OBS_0:RD:0:32:=0x00000000
    iowrite32 ( DENALI_PHY_33_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_33 );  //  PHY_RX_CAL_SAMPLE_WAIT_0:RW:24:8:=0x20 PHY_RX_CAL_OVERRIDE_0:RW:16:1:=0x00 SC_PHY_RX_CAL_START_0:WR:8:1:=0x00 PHY_DDL_TRACK_UPD_THRESHOLD_0:RW:0:8:=0x04
    iowrite32 ( DENALI_PHY_34_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_34 );  //  PHY_RX_CAL_DQ1_0:RW+:16:12:=0x0000 PHY_RX_CAL_DQ0_0:RW+:0:12:=0x0000
    iowrite32 ( DENALI_PHY_35_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_35 );  //  PHY_RX_CAL_DQ3_0:RW+:16:12:=0x0000 PHY_RX_CAL_DQ2_0:RW+:0:12:=0x0000
    iowrite32 ( DENALI_PHY_36_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_36 );  //  PHY_RX_CAL_DQ5_0:RW+:16:12:=0x0000 PHY_RX_CAL_DQ4_0:RW+:0:12:=0x0000
    iowrite32 ( DENALI_PHY_37_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_37 );  //  PHY_RX_CAL_DQ7_0:RW+:16:12:=0x0000 PHY_RX_CAL_DQ6_0:RW+:0:12:=0x0000
    iowrite32 ( DENALI_PHY_38_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_38 );  //  PHY_RX_CAL_DQS_0:RW+:16:12:=0x0000 PHY_RX_CAL_DM_0:RW+:0:12:=0x0000
    iowrite32 ( DENALI_PHY_39_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_39 );  //  PHY_RX_CAL_OBS_0:RD:16:11:=0x0000 PHY_RX_CAL_FDBK_0:RW+:0:12:=0x0000
    iowrite32 ( DENALI_PHY_40_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_40 );  //  PHY_RX_CAL_DISABLE_0:RW:16:1:=0x00 PHY_RX_CAL_LOCK_OBS_0:RD:0:9:=0x0000
    iowrite32 ( DENALI_PHY_41_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_41 );  //  PHY_CLK_WRDQ1_SLAVE_DELAY_0:RW+:16:11:=0x0280 PHY_CLK_WRDQ0_SLAVE_DELAY_0:RW+:0:11:=0x0280
    iowrite32 ( DENALI_PHY_42_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_42 );  //  PHY_CLK_WRDQ3_SLAVE_DELAY_0:RW+:16:11:=0x0280 PHY_CLK_WRDQ2_SLAVE_DELAY_0:RW+:0:11:=0x0280
    iowrite32 ( DENALI_PHY_43_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_43 );  //  PHY_CLK_WRDQ5_SLAVE_DELAY_0:RW+:16:11:=0x0280 PHY_CLK_WRDQ4_SLAVE_DELAY_0:RW+:0:11:=0x0280
    iowrite32 ( DENALI_PHY_44_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_44 );  //  PHY_CLK_WRDQ7_SLAVE_DELAY_0:RW+:16:11:=0x0280 PHY_CLK_WRDQ6_SLAVE_DELAY_0:RW+:0:11:=0x0280
    iowrite32 ( DENALI_PHY_45_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_45 );  //  PHY_CLK_WRDQS_SLAVE_DELAY_0:RW+:16:10:=0x0000 PHY_CLK_WRDM_SLAVE_DELAY_0:RW+:0:11:=0x0280
    iowrite32 ( DENALI_PHY_46_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_46 );  //  PHY_RDDQ0_SLAVE_DELAY_0:RW:8:10:=0x0000 PHY_WRLVL_THRESHOLD_ADJUST_0:RW+:0:2:=0x00
    iowrite32 ( DENALI_PHY_47_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_47 );  //  PHY_RDDQ2_SLAVE_DELAY_0:RW:16:10:=0x0000 PHY_RDDQ1_SLAVE_DELAY_0:RW:0:10:=0x0000
    iowrite32 ( DENALI_PHY_48_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_48 );  //  PHY_RDDQ4_SLAVE_DELAY_0:RW:16:10:=0x0000 PHY_RDDQ3_SLAVE_DELAY_0:RW:0:10:=0x0000
    iowrite32 ( DENALI_PHY_49_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_49 );  //  PHY_RDDQ6_SLAVE_DELAY_0:RW:16:10:=0x0000 PHY_RDDQ5_SLAVE_DELAY_0:RW:0:10:=0x0000
    iowrite32 ( DENALI_PHY_50_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_50 );  //  PHY_RDDM_SLAVE_DELAY_0:RW:16:10:=0x0000 PHY_RDDQ7_SLAVE_DELAY_0:RW:0:10:=0x0000
    iowrite32 ( DENALI_PHY_51_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_51 );  //  PHY_RDDQS_DQ0_FALL_SLAVE_DELAY_0:RW+:16:10:=0x0080 PHY_RDDQS_DQ0_RISE_SLAVE_DELAY_0:RW+:0:10:=0x0080
    iowrite32 ( DENALI_PHY_52_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_52 );  //  PHY_RDDQS_DQ1_FALL_SLAVE_DELAY_0:RW+:16:10:=0x0080 PHY_RDDQS_DQ1_RISE_SLAVE_DELAY_0:RW+:0:10:=0x0080
    iowrite32 ( DENALI_PHY_53_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_53 );  //  PHY_RDDQS_DQ2_FALL_SLAVE_DELAY_0:RW+:16:10:=0x0080 PHY_RDDQS_DQ2_RISE_SLAVE_DELAY_0:RW+:0:10:=0x0080
    iowrite32 ( DENALI_PHY_54_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_54 );  //  PHY_RDDQS_DQ3_FALL_SLAVE_DELAY_0:RW+:16:10:=0x0080 PHY_RDDQS_DQ3_RISE_SLAVE_DELAY_0:RW+:0:10:=0x0080
    iowrite32 ( DENALI_PHY_55_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_55 );  //  PHY_RDDQS_DQ4_FALL_SLAVE_DELAY_0:RW+:16:10:=0x0080 PHY_RDDQS_DQ4_RISE_SLAVE_DELAY_0:RW+:0:10:=0x0080
    iowrite32 ( DENALI_PHY_56_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_56 );  //  PHY_RDDQS_DQ5_FALL_SLAVE_DELAY_0:RW+:16:10:=0x0080 PHY_RDDQS_DQ5_RISE_SLAVE_DELAY_0:RW+:0:10:=0x0080
    iowrite32 ( DENALI_PHY_57_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_57 );  //  PHY_RDDQS_DQ6_FALL_SLAVE_DELAY_0:RW+:16:10:=0x0080 PHY_RDDQS_DQ6_RISE_SLAVE_DELAY_0:RW+:0:10:=0x0080
    iowrite32 ( DENALI_PHY_58_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_58 );  //  PHY_RDDQS_DQ7_FALL_SLAVE_DELAY_0:RW+:16:10:=0x0080 PHY_RDDQS_DQ7_RISE_SLAVE_DELAY_0:RW+:0:10:=0x0080
    iowrite32 ( DENALI_PHY_59_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_59 );  //  PHY_RDDQS_DM_FALL_SLAVE_DELAY_0:RW+:16:10:=0x0080 PHY_RDDQS_DM_RISE_SLAVE_DELAY_0:RW+:0:10:=0x0080
    iowrite32 ( DENALI_PHY_60_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_60 );  //  PHY_WRITE_PATH_LAT_ADD_0:RW:24:3:=0x00 PHY_RDDQS_LATENCY_ADJUST_0:RW+:16:4:=0x01 PHY_RDDQS_GATE_SLAVE_DELAY_0:RW+:0:10:=0x0099
    iowrite32 ( DENALI_PHY_61_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_61 );  //  PHY_WRLVL_DELAY_PERIOD_THRESHOLD_0:RW:16:10:=0x0000 PHY_WRLVL_DELAY_EARLY_THRESHOLD_0:RW:0:10:=0x01d0
    iowrite32 ( DENALI_PHY_62_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_62 );  //  PHY_GTLVL_LAT_ADJ_START_0:RW:24:4:=0x00 PHY_GTLVL_RDDQS_SLV_DLY_START_0:RW:8:10:=0x0000 PHY_WRLVL_EARLY_FORCE_ZERO_0:RW:0:1:=0x00
    iowrite32 ( DENALI_PHY_63_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_63 );  //  PHY_RDLVL_RDDQS_DQ_SLV_DLY_START_0:RW:0:10:=0x0000
    iowrite32 ( DENALI_PHY_64_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_64 );  //  PHY_FDBK_PWR_CTRL_0:RW:0:3:=0x04
    iowrite32 ( DENALI_PHY_65_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_65 );  //  PHY_DQS_OE_TIMING_0:RW:24:8:=0x51 PHY_DQ_TSEL_WR_TIMING_0:RW:16:8:=0x41 PHY_DQ_TSEL_RD_TIMING_0:RW:8:8:=0x41 PHY_DQ_OE_TIMING_0:RW:0:8:=0x52
    iowrite32 ( DENALI_PHY_66_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_66 );  //  PHY_DQS_IE_TIMING_0:RW:24:8:=0x80 PHY_DQ_IE_TIMING_0:RW:16:8:=0x80 PHY_DQS_TSEL_WR_TIMING_0:RW:8:8:=0x41 PHY_DQS_TSEL_RD_TIMING_0:RW:0:8:=0x41
    iowrite32 ( DENALI_PHY_67_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_67 );  //  PHY_RDDATA_EN_TSEL_DLY_0:RW:24:5:=0x01 PHY_RDDATA_EN_DLY_0:RW:16:5:=0x02 PHY_IE_MODE_0:RW:8:2:=0x00 PHY_RDDATA_EN_IE_DLY_0:RW:0:2:=0x00
    iowrite32 ( DENALI_PHY_68_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_68 );  //  PHY_MASTER_DELAY_STEP_0:RW:24:6:=0x08 PHY_MASTER_DELAY_START_0:RW:8:10:=0x0010 PHY_SW_MASTER_MODE_0:RW:0:4:=0x00
    iowrite32 ( DENALI_PHY_69_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_69 );  //  PHY_WRLVL_DLY_STEP_0:RW:24:4:=0x0c PHY_RPTR_UPDATE_0:RW:16:4:=0x05 PHY_MASTER_DELAY_HALF_MEASURE_0:RW:8:8:=0x3e PHY_MASTER_DELAY_WAIT_0:RW:0:8:=0x42
    iowrite32 ( DENALI_PHY_70_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_70 );  //  PHY_GTLVL_RESP_WAIT_CNT_0:RW:16:5:=0x0f PHY_GTLVL_DLY_STEP_0:RW:8:4:=0x0c PHY_WRLVL_RESP_WAIT_CNT_0:RW:0:5:=0x0f
    iowrite32 ( DENALI_PHY_71_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_71 );  //  PHY_GTLVL_FINAL_STEP_0:RW:16:10:=0x0100 PHY_GTLVL_BACK_STEP_0:RW:0:10:=0x0140
    iowrite32 ( DENALI_PHY_72_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_72 );  //  PHY_RDLVL_DLY_STEP_0:RW:0:4:=0x0c

    iowrite32 (DENALI_PHY_128_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_128);  //  PHY_DQ_DM_SWIZZLE0_1:RW:0:32:=0x76543210
    iowrite32 (DENALI_PHY_129_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_129);  //  PHY_CLK_WR_BYPASS_SLAVE_DELAY_1:RW:8:11:=0x04c0 PHY_DQ_DM_SWIZZLE1_1:RW:0:4:=0x08
    iowrite32 (DENALI_PHY_130_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_130);  //  PHY_SW_WRDQ0_SHIFT_1:RW:24:5:=0x00 PHY_CLK_BYPASS_OVERRIDE_1:RW:16:1:=0x00 PHY_RDDQS_GATE_BYPASS_SLAVE_DELAY_1:RW:0:10:=0x0099
    iowrite32 (DENALI_PHY_131_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_131);  //  PHY_SW_WRDQ4_SHIFT_1:RW:24:5:=0x00 PHY_SW_WRDQ3_SHIFT_1:RW:16:5:=0x00 PHY_SW_WRDQ2_SHIFT_1:RW:8:5:=0x00 PHY_SW_WRDQ1_SHIFT_1:RW:0:5:=0x00
    iowrite32 (DENALI_PHY_132_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_132);  //  PHY_SW_WRDM_SHIFT_1:RW:24:5:=0x00 PHY_SW_WRDQ7_SHIFT_1:RW:16:5:=0x00 PHY_SW_WRDQ6_SHIFT_1:RW:8:5:=0x00 PHY_SW_WRDQ5_SHIFT_1:RW:0:5:=0x00
    iowrite32 (DENALI_PHY_133_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_133);  //  PHY_DQ_TSEL_ENABLE_1:RW:8:3:=0x01 PHY_SW_WRDQS_SHIFT_1:RW:0:4:=0x00
    iowrite32 (DENALI_PHY_134_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_134);  //  PHY_DQS_TSEL_ENABLE_1:RW:24:3:=0x01 PHY_DQ_TSEL_SELECT_1:RW:0:24:=0x665555
    iowrite32 (DENALI_PHY_135_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_135);  //  PHY_LPBK_CONTROL_1:RW:24:8:=0x00 PHY_DQS_TSEL_SELECT_1:RW:0:24:=0x665555
    iowrite32 (DENALI_PHY_136_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_136);  //  PHY_AUTO_TIMING_MARGIN_CONTROL_1:RW:0:32:=0x00000000
    iowrite32 (DENALI_PHY_137_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_137);  //  PHY_AUTO_TIMING_MARGIN_OBS_1:RD:0:28:=0x00000000
    iowrite32 (DENALI_PHY_138_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_138);  //  PHY_PRBS_PATTERN_MASK_1:RW:16:9:=0x0000 PHY_PRBS_PATTERN_START_1:RW_D:8:7:=0x01 PHY_SLICE_PWR_RDC_DISABLE_1:RW:0:1:=0x00
    iowrite32 (DENALI_PHY_139_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_139);  //  SC_PHY_SNAP_OBS_REGS_1:WR:24:1:=0x00 PHY_GATE_ERROR_DELAY_SELECT_1:RW:16:5:=0x17 PHY_RDDQS_DQ_BYPASS_SLAVE_DELAY_1:RW:0:10:=0x00c0
    iowrite32 (DENALI_PHY_140_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_140);  //  PHY_RDDQ_ENC_OBS_SELECT_1:RW:24:3:=0x00 PHY_MASTER_DLY_LOCK_OBS_SELECT_1:RW:16:4:=0x00 PHY_SW_FIFO_PTR_RST_DISABLE_1:RW:8:1:=0x00 PHY_SLAVE_LOOP_CNT_UPDATE_1:RW:0:3:=0x00
    iowrite32 (DENALI_PHY_141_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_141);  //  PHY_FIFO_PTR_OBS_SELECT_1:RW:24:4:=0x00 PHY_WR_SHIFT_OBS_SELECT_1:RW:16:4:=0x00 PHY_WR_ENC_OBS_SELECT_1:RW:8:4:=0x00 PHY_RDDQS_DQ_ENC_OBS_SELECT_1:RW:0:4:=0x00
    iowrite32 (DENALI_PHY_142_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_142);  //  PHY_WRLVL_UPDT_WAIT_CNT_1:RW:24:4:=0x04 PHY_WRLVL_CAPTURE_CNT_1:RW:16:6:=0x08 SC_PHY_LVL_DEBUG_CONT_1:WR:8:1:=0x00 PHY_LVL_DEBUG_MODE_1:RW:0:1:=0x00
    iowrite32 (DENALI_PHY_143_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_143);  //  PHY_RDLVL_UPDT_WAIT_CNT_1:RW:24:4:=0x04 PHY_RDLVL_CAPTURE_CNT_1:RW:16:6:=0x08 PHY_GTLVL_UPDT_WAIT_CNT_1:RW:8:4:=0x04 PHY_GTLVL_CAPTURE_CNT_1:RW:0:6:=0x00
    iowrite32 (DENALI_PHY_144_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_144);  //  SC_PHY_MANUAL_CLEAR_1:WR:24:5:=0x00 PHY_RDLVL_DATA_MASK_1:RW:16:8:=0x00 PHY_RDLVL_RDDQS_DQ_OBS_SELECT_1:RW:8:4:=0x00 PHY_RDLVL_OP_MODE_1:RW:0:2:=0x00
    iowrite32 (DENALI_PHY_145_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_145);  //  PHY_FIFO_PTR_OBS_1:RD:0:8:=0x00
    iowrite32 (DENALI_PHY_146_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_146);  //  PHY_LPBK_RESULT_OBS_1:RD:0:32:=0x00000000
    iowrite32 (DENALI_PHY_147_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_147);  //  PHY_MASTER_DLY_LOCK_OBS_1:RD:16:10:=0x0000 PHY_LPBK_ERROR_COUNT_OBS_1:RD:0:16:=0x0000
    iowrite32 (DENALI_PHY_148_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_148);  //  PHY_RDDQS_DQ_FALL_ADDER_SLV_DLY_ENC_OBS_1:RD:24:8:=0x00 PHY_RDDQS_DQ_RISE_ADDER_SLV_DLY_ENC_OBS_1:RD:16:8:=0x00 PHY_RDDQS_BASE_SLV_DLY_ENC_OBS_1:RD:8:7:=0x00 PHY_RDDQ_SLV_DLY_ENC_OBS_1:RD:0:6:=0x00
    iowrite32 (DENALI_PHY_149_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_149);  //  PHY_WRDQ_BASE_SLV_DLY_ENC_OBS_1:RD:24:8:=0x00 PHY_WRDQS_BASE_SLV_DLY_ENC_OBS_1:RD:16:7:=0x00 PHY_RDDQS_GATE_SLV_DLY_ENC_OBS_1:RD:0:10:=0x0000
    iowrite32 (DENALI_PHY_150_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_150);  //  PHY_WRLVL_HARD0_DELAY_OBS_1:RD:16:10:=0x0000 PHY_WR_SHIFT_OBS_1:RD:8:3:=0x00 PHY_WR_ADDER_SLV_DLY_ENC_OBS_1:RD:0:8:=0x00
    iowrite32 (DENALI_PHY_151_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_151);  //  PHY_WRLVL_HARD1_DELAY_OBS_1:RD:0:10:=0x0000
    iowrite32 (DENALI_PHY_152_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_152);  //  PHY_WRLVL_STATUS_OBS_1:RD:0:17:=0x000000
    iowrite32 (DENALI_PHY_153_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_153);  //  PHY_GTLVL_HARD1_DELAY_OBS_1:RD:16:14:=0x0000 PHY_GTLVL_HARD0_DELAY_OBS_1:RD:0:14:=0x0000
    iowrite32 (DENALI_PHY_154_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_154);  //  PHY_GTLVL_STATUS_OBS_1:RD:0:18:=0x000000
    iowrite32 (DENALI_PHY_155_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_155);  //  PHY_RDLVL_RDDQS_DQ_TE_DLY_OBS_1:RD:16:10:=0x0000 PHY_RDLVL_RDDQS_DQ_LE_DLY_OBS_1:RD:0:10:=0x0000
    iowrite32 (DENALI_PHY_156_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_156);  //  PHY_RDLVL_RDDQS_DQ_NUM_WINDOWS_OBS_1:RD:0:2:=0x00
    iowrite32 (DENALI_PHY_157_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_157);  //  PHY_RDLVL_STATUS_OBS_1:RD:0:32:=0x00000000
    iowrite32 (DENALI_PHY_158_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_158);  //  PHY_DDL_MODE_1:RW:0:18:=0x000000
    iowrite32 (DENALI_PHY_159_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_159);  //  PHY_DDL_TEST_OBS_1:RD:0:32:=0x00000000
    iowrite32 (DENALI_PHY_160_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_160);  //  PHY_DDL_TEST_MSTR_DLY_OBS_1:RD:0:32:=0x00000000
    iowrite32 (DENALI_PHY_161_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_161);  //  PHY_RX_CAL_SAMPLE_WAIT_1:RW:24:8:=0x20 PHY_RX_CAL_OVERRIDE_1:RW:16:1:=0x00 SC_PHY_RX_CAL_START_1:WR:8:1:=0x00 PHY_DDL_TRACK_UPD_THRESHOLD_1:RW:0:8:=0x04
    iowrite32 (DENALI_PHY_162_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_162);  //  PHY_RX_CAL_DQ1_1:RW+:16:12:=0x0000 PHY_RX_CAL_DQ0_1:RW+:0:12:=0x0000
    iowrite32 (DENALI_PHY_163_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_163);  //  PHY_RX_CAL_DQ3_1:RW+:16:12:=0x0000 PHY_RX_CAL_DQ2_1:RW+:0:12:=0x0000
    iowrite32 (DENALI_PHY_164_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_164);  //  PHY_RX_CAL_DQ5_1:RW+:16:12:=0x0000 PHY_RX_CAL_DQ4_1:RW+:0:12:=0x0000
    iowrite32 (DENALI_PHY_165_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_165);  //  PHY_RX_CAL_DQ7_1:RW+:16:12:=0x0000 PHY_RX_CAL_DQ6_1:RW+:0:12:=0x0000
    iowrite32 (DENALI_PHY_166_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_166);  //  PHY_RX_CAL_DQS_1:RW+:16:12:=0x0000 PHY_RX_CAL_DM_1:RW+:0:12:=0x0000
    iowrite32 (DENALI_PHY_167_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_167);  //  PHY_RX_CAL_OBS_1:RD:16:11:=0x0000 PHY_RX_CAL_FDBK_1:RW+:0:12:=0x0000
    iowrite32 (DENALI_PHY_168_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_168);  //  PHY_RX_CAL_DISABLE_1:RW:16:1:=0x00 PHY_RX_CAL_LOCK_OBS_1:RD:0:9:=0x0000
    iowrite32 (DENALI_PHY_169_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_169);  //  PHY_CLK_WRDQ1_SLAVE_DELAY_1:RW+:16:11:=0x0280 PHY_CLK_WRDQ0_SLAVE_DELAY_1:RW+:0:11:=0x0280
    iowrite32 (DENALI_PHY_170_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_170);  //  PHY_CLK_WRDQ3_SLAVE_DELAY_1:RW+:16:11:=0x0280 PHY_CLK_WRDQ2_SLAVE_DELAY_1:RW+:0:11:=0x0280
    iowrite32 (DENALI_PHY_171_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_171);  //  PHY_CLK_WRDQ5_SLAVE_DELAY_1:RW+:16:11:=0x0280 PHY_CLK_WRDQ4_SLAVE_DELAY_1:RW+:0:11:=0x0280
    iowrite32 (DENALI_PHY_172_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_172);  //  PHY_CLK_WRDQ7_SLAVE_DELAY_1:RW+:16:11:=0x0280 PHY_CLK_WRDQ6_SLAVE_DELAY_1:RW+:0:11:=0x0280
    iowrite32 (DENALI_PHY_173_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_173);  //  PHY_CLK_WRDQS_SLAVE_DELAY_1:RW+:16:10:=0x0000 PHY_CLK_WRDM_SLAVE_DELAY_1:RW+:0:11:=0x0280
    iowrite32 (DENALI_PHY_174_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_174);  //  PHY_RDDQ0_SLAVE_DELAY_1:RW:8:10:=0x0000 PHY_WRLVL_THRESHOLD_ADJUST_1:RW+:0:2:=0x00
    iowrite32 (DENALI_PHY_175_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_175);  //  PHY_RDDQ2_SLAVE_DELAY_1:RW:16:10:=0x0000 PHY_RDDQ1_SLAVE_DELAY_1:RW:0:10:=0x0000
    iowrite32 (DENALI_PHY_176_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_176);  //  PHY_RDDQ4_SLAVE_DELAY_1:RW:16:10:=0x0000 PHY_RDDQ3_SLAVE_DELAY_1:RW:0:10:=0x0000
    iowrite32 (DENALI_PHY_177_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_177);  //  PHY_RDDQ6_SLAVE_DELAY_1:RW:16:10:=0x0000 PHY_RDDQ5_SLAVE_DELAY_1:RW:0:10:=0x0000
    iowrite32 (DENALI_PHY_178_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_178);  //  PHY_RDDM_SLAVE_DELAY_1:RW:16:10:=0x0000 PHY_RDDQ7_SLAVE_DELAY_1:RW:0:10:=0x0000
    iowrite32 (DENALI_PHY_179_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_179);  //  PHY_RDDQS_DQ0_FALL_SLAVE_DELAY_1:RW+:16:10:=0x0080 PHY_RDDQS_DQ0_RISE_SLAVE_DELAY_1:RW+:0:10:=0x0080
    iowrite32 (DENALI_PHY_180_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_180);  //  PHY_RDDQS_DQ1_FALL_SLAVE_DELAY_1:RW+:16:10:=0x0080 PHY_RDDQS_DQ1_RISE_SLAVE_DELAY_1:RW+:0:10:=0x0080
    iowrite32 (DENALI_PHY_181_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_181);  //  PHY_RDDQS_DQ2_FALL_SLAVE_DELAY_1:RW+:16:10:=0x0080 PHY_RDDQS_DQ2_RISE_SLAVE_DELAY_1:RW+:0:10:=0x0080
    iowrite32 (DENALI_PHY_182_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_182);  //  PHY_RDDQS_DQ3_FALL_SLAVE_DELAY_1:RW+:16:10:=0x0080 PHY_RDDQS_DQ3_RISE_SLAVE_DELAY_1:RW+:0:10:=0x0080
    iowrite32 (DENALI_PHY_183_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_183);  //  PHY_RDDQS_DQ4_FALL_SLAVE_DELAY_1:RW+:16:10:=0x0080 PHY_RDDQS_DQ4_RISE_SLAVE_DELAY_1:RW+:0:10:=0x0080
    iowrite32 (DENALI_PHY_184_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_184);  //  PHY_RDDQS_DQ5_FALL_SLAVE_DELAY_1:RW+:16:10:=0x0080 PHY_RDDQS_DQ5_RISE_SLAVE_DELAY_1:RW+:0:10:=0x0080
    iowrite32 (DENALI_PHY_185_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_185);  //  PHY_RDDQS_DQ6_FALL_SLAVE_DELAY_1:RW+:16:10:=0x0080 PHY_RDDQS_DQ6_RISE_SLAVE_DELAY_1:RW+:0:10:=0x0080
    iowrite32 (DENALI_PHY_186_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_186);  //  PHY_RDDQS_DQ7_FALL_SLAVE_DELAY_1:RW+:16:10:=0x0080 PHY_RDDQS_DQ7_RISE_SLAVE_DELAY_1:RW+:0:10:=0x0080
    iowrite32 (DENALI_PHY_187_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_187);  //  PHY_RDDQS_DM_FALL_SLAVE_DELAY_1:RW+:16:10:=0x0080 PHY_RDDQS_DM_RISE_SLAVE_DELAY_1:RW+:0:10:=0x0080
    iowrite32 (DENALI_PHY_188_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_188);  //  PHY_WRITE_PATH_LAT_ADD_1:RW:24:3:=0x00 PHY_RDDQS_LATENCY_ADJUST_1:RW+:16:4:=0x01 PHY_RDDQS_GATE_SLAVE_DELAY_1:RW+:0:10:=0x0099
    iowrite32 (DENALI_PHY_189_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_189);  //  PHY_WRLVL_DELAY_PERIOD_THRESHOLD_1:RW:16:10:=0x0000 PHY_WRLVL_DELAY_EARLY_THRESHOLD_1:RW:0:10:=0x01d0
    iowrite32 (DENALI_PHY_190_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_190);  //  PHY_GTLVL_LAT_ADJ_START_1:RW:24:4:=0x00 PHY_GTLVL_RDDQS_SLV_DLY_START_1:RW:8:10:=0x0000 PHY_WRLVL_EARLY_FORCE_ZERO_1:RW:0:1:=0x00
    iowrite32 (DENALI_PHY_191_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_191);  //  PHY_RDLVL_RDDQS_DQ_SLV_DLY_START_1:RW:0:10:=0x0000
    iowrite32 (DENALI_PHY_192_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_192);  //  PHY_FDBK_PWR_CTRL_1:RW:0:3:=0x04
    iowrite32 (DENALI_PHY_193_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_193);  //  PHY_DQS_OE_TIMING_1:RW:24:8:=0x51 PHY_DQ_TSEL_WR_TIMING_1:RW:16:8:=0x41 PHY_DQ_TSEL_RD_TIMING_1:RW:8:8:=0x41 PHY_DQ_OE_TIMING_1:RW:0:8:=0x52
    iowrite32 (DENALI_PHY_194_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_194);  //  PHY_DQS_IE_TIMING_1:RW:24:8:=0x80 PHY_DQ_IE_TIMING_1:RW:16:8:=0x80 PHY_DQS_TSEL_WR_TIMING_1:RW:8:8:=0x41 PHY_DQS_TSEL_RD_TIMING_1:RW:0:8:=0x41
    iowrite32 (DENALI_PHY_195_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_195);  //  PHY_RDDATA_EN_TSEL_DLY_1:RW:24:5:=0x01 PHY_RDDATA_EN_DLY_1:RW:16:5:=0x02 PHY_IE_MODE_1:RW:8:2:=0x00 PHY_RDDATA_EN_IE_DLY_1:RW:0:2:=0x00
    iowrite32 (DENALI_PHY_196_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_196);  //  PHY_MASTER_DELAY_STEP_1:RW:24:6:=0x08 PHY_MASTER_DELAY_START_1:RW:8:10:=0x0010 PHY_SW_MASTER_MODE_1:RW:0:4:=0x00
    iowrite32 (DENALI_PHY_197_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_197);  //  PHY_WRLVL_DLY_STEP_1:RW:24:4:=0x0c PHY_RPTR_UPDATE_1:RW:16:4:=0x05 PHY_MASTER_DELAY_HALF_MEASURE_1:RW:8:8:=0x3e PHY_MASTER_DELAY_WAIT_1:RW:0:8:=0x42
    iowrite32 (DENALI_PHY_198_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_198);  //  PHY_GTLVL_RESP_WAIT_CNT_1:RW:16:5:=0x0f PHY_GTLVL_DLY_STEP_1:RW:8:4:=0x0c PHY_WRLVL_RESP_WAIT_CNT_1:RW:0:5:=0x0f
    iowrite32 (DENALI_PHY_199_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_199);  //  PHY_GTLVL_FINAL_STEP_1:RW:16:10:=0x0100 PHY_GTLVL_BACK_STEP_1:RW:0:10:=0x0140
    iowrite32 (DENALI_PHY_200_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_200);  //  PHY_RDLVL_DLY_STEP_1:RW:0:4:=0x0c

    iowrite32 (DENALI_PHY_256_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_256);  //  PHY_DQ_DM_SWIZZLE0_2:RW:0:32:=0x76543210
    iowrite32 (DENALI_PHY_257_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_257);  //  PHY_CLK_WR_BYPASS_SLAVE_DELAY_2:RW:8:11:=0x04c0 PHY_DQ_DM_SWIZZLE1_2:RW:0:4:=0x08
    iowrite32 (DENALI_PHY_258_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_258);  //  PHY_SW_WRDQ0_SHIFT_2:RW:24:5:=0x00 PHY_CLK_BYPASS_OVERRIDE_2:RW:16:1:=0x00 PHY_RDDQS_GATE_BYPASS_SLAVE_DELAY_2:RW:0:10:=0x0099
    iowrite32 (DENALI_PHY_259_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_259);  //  PHY_SW_WRDQ4_SHIFT_2:RW:24:5:=0x00 PHY_SW_WRDQ3_SHIFT_2:RW:16:5:=0x00 PHY_SW_WRDQ2_SHIFT_2:RW:8:5:=0x00 PHY_SW_WRDQ1_SHIFT_2:RW:0:5:=0x00
    iowrite32 (DENALI_PHY_260_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_260);  //  PHY_SW_WRDM_SHIFT_2:RW:24:5:=0x00 PHY_SW_WRDQ7_SHIFT_2:RW:16:5:=0x00 PHY_SW_WRDQ6_SHIFT_2:RW:8:5:=0x00 PHY_SW_WRDQ5_SHIFT_2:RW:0:5:=0x00
    iowrite32 (DENALI_PHY_261_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_261);  //  PHY_DQ_TSEL_ENABLE_2:RW:8:3:=0x01 PHY_SW_WRDQS_SHIFT_2:RW:0:4:=0x00
    iowrite32 (DENALI_PHY_262_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_262);  //  PHY_DQS_TSEL_ENABLE_2:RW:24:3:=0x01 PHY_DQ_TSEL_SELECT_2:RW:0:24:=0x665555
    iowrite32 (DENALI_PHY_263_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_263);  //  PHY_LPBK_CONTROL_2:RW:24:8:=0x00 PHY_DQS_TSEL_SELECT_2:RW:0:24:=0x665555
    iowrite32 (DENALI_PHY_264_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_264);  //  PHY_AUTO_TIMING_MARGIN_CONTROL_2:RW:0:32:=0x00000000
    iowrite32 (DENALI_PHY_265_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_265);  //  PHY_AUTO_TIMING_MARGIN_OBS_2:RD:0:28:=0x00000000
    iowrite32 (DENALI_PHY_266_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_266);  //  PHY_PRBS_PATTERN_MASK_2:RW:16:9:=0x0000 PHY_PRBS_PATTERN_START_2:RW_D:8:7:=0x01 PHY_SLICE_PWR_RDC_DISABLE_2:RW:0:1:=0x00
    iowrite32 (DENALI_PHY_267_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_267);  //  SC_PHY_SNAP_OBS_REGS_2:WR:24:1:=0x00 PHY_GATE_ERROR_DELAY_SELECT_2:RW:16:5:=0x17 PHY_RDDQS_DQ_BYPASS_SLAVE_DELAY_2:RW:0:10:=0x00c0
    iowrite32 (DENALI_PHY_268_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_268);  //  PHY_RDDQ_ENC_OBS_SELECT_2:RW:24:3:=0x00 PHY_MASTER_DLY_LOCK_OBS_SELECT_2:RW:16:4:=0x00 PHY_SW_FIFO_PTR_RST_DISABLE_2:RW:8:1:=0x00 PHY_SLAVE_LOOP_CNT_UPDATE_2:RW:0:3:=0x00
    iowrite32 (DENALI_PHY_269_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_269);  //  PHY_FIFO_PTR_OBS_SELECT_2:RW:24:4:=0x00 PHY_WR_SHIFT_OBS_SELECT_2:RW:16:4:=0x00 PHY_WR_ENC_OBS_SELECT_2:RW:8:4:=0x00 PHY_RDDQS_DQ_ENC_OBS_SELECT_2:RW:0:4:=0x00
    iowrite32 (DENALI_PHY_270_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_270);  //  PHY_WRLVL_UPDT_WAIT_CNT_2:RW:24:4:=0x04 PHY_WRLVL_CAPTURE_CNT_2:RW:16:6:=0x08 SC_PHY_LVL_DEBUG_CONT_2:WR:8:1:=0x00 PHY_LVL_DEBUG_MODE_2:RW:0:1:=0x00
    iowrite32 (DENALI_PHY_271_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_271);  //  PHY_RDLVL_UPDT_WAIT_CNT_2:RW:24:4:=0x04 PHY_RDLVL_CAPTURE_CNT_2:RW:16:6:=0x08 PHY_GTLVL_UPDT_WAIT_CNT_2:RW:8:4:=0x04 PHY_GTLVL_CAPTURE_CNT_2:RW:0:6:=0x00
    iowrite32 (DENALI_PHY_272_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_272);  //  SC_PHY_MANUAL_CLEAR_2:WR:24:5:=0x00 PHY_RDLVL_DATA_MASK_2:RW:16:8:=0x00 PHY_RDLVL_RDDQS_DQ_OBS_SELECT_2:RW:8:4:=0x00 PHY_RDLVL_OP_MODE_2:RW:0:2:=0x00
    iowrite32 (DENALI_PHY_273_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_273);  //  PHY_FIFO_PTR_OBS_2:RD:0:8:=0x00
    iowrite32 (DENALI_PHY_274_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_274);  //  PHY_LPBK_RESULT_OBS_2:RD:0:32:=0x00000000
    iowrite32 (DENALI_PHY_275_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_275);  //  PHY_MASTER_DLY_LOCK_OBS_2:RD:16:10:=0x0000 PHY_LPBK_ERROR_COUNT_OBS_2:RD:0:16:=0x0000
    iowrite32 (DENALI_PHY_276_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_276);  //  PHY_RDDQS_DQ_FALL_ADDER_SLV_DLY_ENC_OBS_2:RD:24:8:=0x00 PHY_RDDQS_DQ_RISE_ADDER_SLV_DLY_ENC_OBS_2:RD:16:8:=0x00 PHY_RDDQS_BASE_SLV_DLY_ENC_OBS_2:RD:8:7:=0x00 PHY_RDDQ_SLV_DLY_ENC_OBS_2:RD:0:6:=0x00
    iowrite32 (DENALI_PHY_277_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_277);  //  PHY_WRDQ_BASE_SLV_DLY_ENC_OBS_2:RD:24:8:=0x00 PHY_WRDQS_BASE_SLV_DLY_ENC_OBS_2:RD:16:7:=0x00 PHY_RDDQS_GATE_SLV_DLY_ENC_OBS_2:RD:0:10:=0x0000
    iowrite32 (DENALI_PHY_278_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_278);  //  PHY_WRLVL_HARD0_DELAY_OBS_2:RD:16:10:=0x0000 PHY_WR_SHIFT_OBS_2:RD:8:3:=0x00 PHY_WR_ADDER_SLV_DLY_ENC_OBS_2:RD:0:8:=0x00
    iowrite32 (DENALI_PHY_279_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_279);  //  PHY_WRLVL_HARD1_DELAY_OBS_2:RD:0:10:=0x0000
    iowrite32 (DENALI_PHY_280_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_280);  //  PHY_WRLVL_STATUS_OBS_2:RD:0:17:=0x000000
    iowrite32 (DENALI_PHY_281_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_281);  //  PHY_GTLVL_HARD1_DELAY_OBS_2:RD:16:14:=0x0000 PHY_GTLVL_HARD0_DELAY_OBS_2:RD:0:14:=0x0000
    iowrite32 (DENALI_PHY_282_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_282);  //  PHY_GTLVL_STATUS_OBS_2:RD:0:18:=0x000000
    iowrite32 (DENALI_PHY_283_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_283);  //  PHY_RDLVL_RDDQS_DQ_TE_DLY_OBS_2:RD:16:10:=0x0000 PHY_RDLVL_RDDQS_DQ_LE_DLY_OBS_2:RD:0:10:=0x0000
    iowrite32 (DENALI_PHY_284_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_284);  //  PHY_RDLVL_RDDQS_DQ_NUM_WINDOWS_OBS_2:RD:0:2:=0x00
    iowrite32 (DENALI_PHY_285_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_285);  //  PHY_RDLVL_STATUS_OBS_2:RD:0:32:=0x00000000
    iowrite32 (DENALI_PHY_286_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_286);  //  PHY_DDL_MODE_2:RW:0:18:=0x000000
    iowrite32 (DENALI_PHY_287_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_287);  //  PHY_DDL_TEST_OBS_2:RD:0:32:=0x00000000
    iowrite32 (DENALI_PHY_288_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_288);  //  PHY_DDL_TEST_MSTR_DLY_OBS_2:RD:0:32:=0x00000000
    iowrite32 (DENALI_PHY_289_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_289);  //  PHY_RX_CAL_SAMPLE_WAIT_2:RW:24:8:=0x20 PHY_RX_CAL_OVERRIDE_2:RW:16:1:=0x00 SC_PHY_RX_CAL_START_2:WR:8:1:=0x00 PHY_DDL_TRACK_UPD_THRESHOLD_2:RW:0:8:=0x04
    iowrite32 (DENALI_PHY_290_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_290);  //  PHY_RX_CAL_DQ1_2:RW+:16:12:=0x0000 PHY_RX_CAL_DQ0_2:RW+:0:12:=0x0000
    iowrite32 (DENALI_PHY_291_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_291);  //  PHY_RX_CAL_DQ3_2:RW+:16:12:=0x0000 PHY_RX_CAL_DQ2_2:RW+:0:12:=0x0000
    iowrite32 (DENALI_PHY_292_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_292);  //  PHY_RX_CAL_DQ5_2:RW+:16:12:=0x0000 PHY_RX_CAL_DQ4_2:RW+:0:12:=0x0000
    iowrite32 (DENALI_PHY_293_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_293);  //  PHY_RX_CAL_DQ7_2:RW+:16:12:=0x0000 PHY_RX_CAL_DQ6_2:RW+:0:12:=0x0000
    iowrite32 (DENALI_PHY_294_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_294);  //  PHY_RX_CAL_DQS_2:RW+:16:12:=0x0000 PHY_RX_CAL_DM_2:RW+:0:12:=0x0000
    iowrite32 (DENALI_PHY_295_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_295);  //  PHY_RX_CAL_OBS_2:RD:16:11:=0x0000 PHY_RX_CAL_FDBK_2:RW+:0:12:=0x0000
    iowrite32 (DENALI_PHY_296_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_296);  //  PHY_RX_CAL_DISABLE_2:RW:16:1:=0x00 PHY_RX_CAL_LOCK_OBS_2:RD:0:9:=0x0000
    iowrite32 (DENALI_PHY_297_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_297);  //  PHY_CLK_WRDQ1_SLAVE_DELAY_2:RW+:16:11:=0x0280 PHY_CLK_WRDQ0_SLAVE_DELAY_2:RW+:0:11:=0x0280
    iowrite32 (DENALI_PHY_298_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_298);  //  PHY_CLK_WRDQ3_SLAVE_DELAY_2:RW+:16:11:=0x0280 PHY_CLK_WRDQ2_SLAVE_DELAY_2:RW+:0:11:=0x0280
    iowrite32 (DENALI_PHY_299_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_299);  //  PHY_CLK_WRDQ5_SLAVE_DELAY_2:RW+:16:11:=0x0280 PHY_CLK_WRDQ4_SLAVE_DELAY_2:RW+:0:11:=0x0280
    iowrite32 (DENALI_PHY_300_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_300);  //  PHY_CLK_WRDQ7_SLAVE_DELAY_2:RW+:16:11:=0x0280 PHY_CLK_WRDQ6_SLAVE_DELAY_2:RW+:0:11:=0x0280
    iowrite32 (DENALI_PHY_301_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_301);  //  PHY_CLK_WRDQS_SLAVE_DELAY_2:RW+:16:10:=0x0000 PHY_CLK_WRDM_SLAVE_DELAY_2:RW+:0:11:=0x0280
    iowrite32 (DENALI_PHY_302_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_302);  //  PHY_RDDQ0_SLAVE_DELAY_2:RW:8:10:=0x0000 PHY_WRLVL_THRESHOLD_ADJUST_2:RW+:0:2:=0x00
    iowrite32 (DENALI_PHY_303_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_303);  //  PHY_RDDQ2_SLAVE_DELAY_2:RW:16:10:=0x0000 PHY_RDDQ1_SLAVE_DELAY_2:RW:0:10:=0x0000
    iowrite32 (DENALI_PHY_304_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_304);  //  PHY_RDDQ4_SLAVE_DELAY_2:RW:16:10:=0x0000 PHY_RDDQ3_SLAVE_DELAY_2:RW:0:10:=0x0000
    iowrite32 (DENALI_PHY_305_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_305);  //  PHY_RDDQ6_SLAVE_DELAY_2:RW:16:10:=0x0000 PHY_RDDQ5_SLAVE_DELAY_2:RW:0:10:=0x0000
    iowrite32 (DENALI_PHY_306_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_306);  //  PHY_RDDM_SLAVE_DELAY_2:RW:16:10:=0x0000 PHY_RDDQ7_SLAVE_DELAY_2:RW:0:10:=0x0000
    iowrite32 (DENALI_PHY_307_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_307);  //  PHY_RDDQS_DQ0_FALL_SLAVE_DELAY_2:RW+:16:10:=0x0080 PHY_RDDQS_DQ0_RISE_SLAVE_DELAY_2:RW+:0:10:=0x0080
    iowrite32 (DENALI_PHY_308_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_308);  //  PHY_RDDQS_DQ1_FALL_SLAVE_DELAY_2:RW+:16:10:=0x0080 PHY_RDDQS_DQ1_RISE_SLAVE_DELAY_2:RW+:0:10:=0x0080
    iowrite32 (DENALI_PHY_309_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_309);  //  PHY_RDDQS_DQ2_FALL_SLAVE_DELAY_2:RW+:16:10:=0x0080 PHY_RDDQS_DQ2_RISE_SLAVE_DELAY_2:RW+:0:10:=0x0080
    iowrite32 (DENALI_PHY_310_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_310);  //  PHY_RDDQS_DQ3_FALL_SLAVE_DELAY_2:RW+:16:10:=0x0080 PHY_RDDQS_DQ3_RISE_SLAVE_DELAY_2:RW+:0:10:=0x0080
    iowrite32 (DENALI_PHY_311_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_311);  //  PHY_RDDQS_DQ4_FALL_SLAVE_DELAY_2:RW+:16:10:=0x0080 PHY_RDDQS_DQ4_RISE_SLAVE_DELAY_2:RW+:0:10:=0x0080
    iowrite32 (DENALI_PHY_312_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_312);  //  PHY_RDDQS_DQ5_FALL_SLAVE_DELAY_2:RW+:16:10:=0x0080 PHY_RDDQS_DQ5_RISE_SLAVE_DELAY_2:RW+:0:10:=0x0080
    iowrite32 (DENALI_PHY_313_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_313);  //  PHY_RDDQS_DQ6_FALL_SLAVE_DELAY_2:RW+:16:10:=0x0080 PHY_RDDQS_DQ6_RISE_SLAVE_DELAY_2:RW+:0:10:=0x0080
    iowrite32 (DENALI_PHY_314_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_314);  //  PHY_RDDQS_DQ7_FALL_SLAVE_DELAY_2:RW+:16:10:=0x0080 PHY_RDDQS_DQ7_RISE_SLAVE_DELAY_2:RW+:0:10:=0x0080
    iowrite32 (DENALI_PHY_315_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_315);  //  PHY_RDDQS_DM_FALL_SLAVE_DELAY_2:RW+:16:10:=0x0080 PHY_RDDQS_DM_RISE_SLAVE_DELAY_2:RW+:0:10:=0x0080
    iowrite32 (DENALI_PHY_316_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_316);  //  PHY_WRITE_PATH_LAT_ADD_2:RW:24:3:=0x00 PHY_RDDQS_LATENCY_ADJUST_2:RW+:16:4:=0x01 PHY_RDDQS_GATE_SLAVE_DELAY_2:RW+:0:10:=0x0099
    iowrite32 (DENALI_PHY_317_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_317);  //  PHY_WRLVL_DELAY_PERIOD_THRESHOLD_2:RW:16:10:=0x0000 PHY_WRLVL_DELAY_EARLY_THRESHOLD_2:RW:0:10:=0x01d0
    iowrite32 (DENALI_PHY_318_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_318);  //  PHY_GTLVL_LAT_ADJ_START_2:RW:24:4:=0x00 PHY_GTLVL_RDDQS_SLV_DLY_START_2:RW:8:10:=0x0000 PHY_WRLVL_EARLY_FORCE_ZERO_2:RW:0:1:=0x00
    iowrite32 (DENALI_PHY_319_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_319);  //  PHY_RDLVL_RDDQS_DQ_SLV_DLY_START_2:RW:0:10:=0x0000
    iowrite32 (DENALI_PHY_320_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_320);  //  PHY_FDBK_PWR_CTRL_2:RW:0:3:=0x04
    iowrite32 (DENALI_PHY_321_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_321);  //  PHY_DQS_OE_TIMING_2:RW:24:8:=0x51 PHY_DQ_TSEL_WR_TIMING_2:RW:16:8:=0x41 PHY_DQ_TSEL_RD_TIMING_2:RW:8:8:=0x41 PHY_DQ_OE_TIMING_2:RW:0:8:=0x52
    iowrite32 (DENALI_PHY_322_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_322);  //  PHY_DQS_IE_TIMING_2:RW:24:8:=0x80 PHY_DQ_IE_TIMING_2:RW:16:8:=0x80 PHY_DQS_TSEL_WR_TIMING_2:RW:8:8:=0x41 PHY_DQS_TSEL_RD_TIMING_2:RW:0:8:=0x41
    iowrite32 (DENALI_PHY_323_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_323);  //  PHY_RDDATA_EN_TSEL_DLY_2:RW:24:5:=0x01 PHY_RDDATA_EN_DLY_2:RW:16:5:=0x02 PHY_IE_MODE_2:RW:8:2:=0x00 PHY_RDDATA_EN_IE_DLY_2:RW:0:2:=0x00
    iowrite32 (DENALI_PHY_324_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_324);  //  PHY_MASTER_DELAY_STEP_2:RW:24:6:=0x08 PHY_MASTER_DELAY_START_2:RW:8:10:=0x0010 PHY_SW_MASTER_MODE_2:RW:0:4:=0x00
    iowrite32 (DENALI_PHY_325_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_325);  //  PHY_WRLVL_DLY_STEP_2:RW:24:4:=0x0c PHY_RPTR_UPDATE_2:RW:16:4:=0x05 PHY_MASTER_DELAY_HALF_MEASURE_2:RW:8:8:=0x3e PHY_MASTER_DELAY_WAIT_2:RW:0:8:=0x42
    iowrite32 (DENALI_PHY_326_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_326);  //  PHY_GTLVL_RESP_WAIT_CNT_2:RW:16:5:=0x0f PHY_GTLVL_DLY_STEP_2:RW:8:4:=0x0c PHY_WRLVL_RESP_WAIT_CNT_2:RW:0:5:=0x0f
    iowrite32 (DENALI_PHY_327_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_327);  //  PHY_GTLVL_FINAL_STEP_2:RW:16:10:=0x0100 PHY_GTLVL_BACK_STEP_2:RW:0:10:=0x0140
    iowrite32 (DENALI_PHY_328_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_328);  //  PHY_RDLVL_DLY_STEP_2:RW:0:4:=0x0c

    iowrite32 (DENALI_PHY_384_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_384);  //  PHY_SW_GRP_SHIFT_3:RW+:24:4:=0x00 PHY_SW_GRP_SHIFT_2:RW+:16:4:=0x00 PHY_SW_GRP_SHIFT_1:RW+:8:4:=0x00 PHY_SW_GRP_SHIFT_0:RW+:0:4:=0x00
    iowrite32 (DENALI_PHY_385_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_385);  //  PHY_SW_GRP_SHIFT_6:RW+:16:4:=0x00 PHY_SW_GRP_SHIFT_5:RW+:8:4:=0x00 PHY_SW_GRP_SHIFT_4:RW+:0:4:=0x00
    iowrite32 (DENALI_PHY_386_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_386);  //  PHY_GRP_BYPASS_OVERRIDE:RW:24:1:=0x00 PHY_SW_GRP_BYPASS_SHIFT:RW:16:4:=0x05 PHY_GRP_BYPASS_SLAVE_DELAY:RW:0:10:=0x0000
    iowrite32 (DENALI_PHY_387_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_387);  //  PHY_GRP_SHIFT_OBS_SELECT:RW:24:5:=0x00 PHY_GRP_SLV_DLY_ENC_OBS_SELECT:RW:8:10:=0x0000 SC_PHY_MANUAL_UPDATE:WR:0:1:=0x00
    iowrite32 (DENALI_PHY_388_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_388);  //  PHY_ADRCTL_MANUAL_CLEAR:WR:24:2:=0x00 PHY_GRP_SHIFT_OBS:RD:16:2:=0x00 PHY_GRP_SLV_DLY_ENC_OBS:RD:0:10:=0x0000
    iowrite32 (DENALI_PHY_389_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_389);  //  PHY_ADRCTL_SLAVE_LOOP_CNT_UPDATE:RW:24:3:=0x00 PHY_ADRCTL_MASTER_DLY_LOCK_OBS:RD:8:10:=0x0000 PHY_ADRCTL_MASTER_DLY_LOCK_OBS_SELECT:RW:0:4:=0x00
    iowrite32 (DENALI_PHY_390_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_390);  //  PHY_CONTINUOUS_CLK_CAL_UPDATE:RW:24:1:=0x00 SC_PHY_UPDATE_CLK_CAL_VALUES:WR:16:1:=0x00 PHY_DFI_PHYUPD_TYPE:RW:8:2:=0x01 PHY_ADRCTL_SNAP_OBS_REGS:WR:0:1:=0x00
    iowrite32 (DENALI_PHY_391_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_391);  //  PHY_SW_TXIO_CTRL_3:RW:24:4:=0x00 PHY_SW_TXIO_CTRL_2:RW:16:4:=0x00 PHY_SW_TXIO_CTRL_1:RW:8:4:=0x00 PHY_SW_TXIO_CTRL_0:RW:0:4:=0x00
    iowrite32 (DENALI_PHY_392_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_392);  //  PHY_MEMCLK_SW_TXIO_CTRL:RW:24:1:=0x00 PHY_SW_TXIO_CTRL_6:RW:16:4:=0x00 PHY_SW_TXIO_CTRL_5:RW:8:4:=0x00 PHY_SW_TXIO_CTRL_4:RW:0:4:=0x00
    iowrite32 (DENALI_PHY_393_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_393);  //  PHY_MEMCLK_SW_TXPWR_CTRL:RW:8:1:=0x01 PHY_CA_SW_TXPWR_CTRL:RW:0:1:=0x01
    iowrite32 (DENALI_PHY_394_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_394);  //  PHY_USER_DEF_REG_AC_0:RW:0:32:=0x00000000
    iowrite32 (DENALI_PHY_395_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_395);  //  PHY_USER_DEF_REG_AC_1:RW:0:32:=0x00000000
    iowrite32 (DENALI_PHY_396_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_396);  //  PHY_USER_DEF_REG_AC_2:RW:0:32:=0x00000000
    iowrite32 (DENALI_PHY_397_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_397);  //  PHY_USER_DEF_REG_AC_3:RW:0:32:=0x00000000
    iowrite32 (DENALI_PHY_398_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_398);  //  PHY_PLL_CTRL:RW:8:13:=0x1102 PHY_PLL_WAIT:RW:0:8:=0x64
    iowrite32 (DENALI_PHY_399_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_399);  //  PHY_PLL_CTRL_CA:RW:0:13:=0x0122
    iowrite32 (DENALI_PHY_400_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_400);  //  PHY_PLL_BYPASS:RW+:0:4:=0x00
    iowrite32 (DENALI_PHY_401_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_401);  //  PHY_PAD_VREF_CTRL_DQ_0:RW:8:12:=0x0100 PHY_LOW_FREQ_SEL:RW:0:1:=0x00
    iowrite32 (DENALI_PHY_402_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_402);  //  PHY_PAD_VREF_CTRL_DQ_2:RW:16:12:=0x0100 PHY_PAD_VREF_CTRL_DQ_1:RW:0:12:=0x0100
    iowrite32 (DENALI_PHY_403_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_403);  //  PHY_ADRCTL_SW_MASTER_MODE:RW:16:4:=0x00 PHY_PAD_VREF_CTRL_AC:RW:0:12:=0x0100
    iowrite32 (DENALI_PHY_404_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_404);  //  PHY_ADRCTL_MASTER_DELAY_WAIT:RW:24:8:=0x42 PHY_ADRCTL_MASTER_DELAY_STEP:RW:16:6:=0x08 PHY_ADRCTL_MASTER_DELAY_START:RW:0:10:=0x0010
    iowrite32 (DENALI_PHY_405_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_405);  //  PHY_GRP_SLAVE_DELAY_0:RW+:8:10:=0x0100 PHY_ADRCTL_MASTER_DELAY_HALF_MEASURE:RW:0:8:=0x3e
    iowrite32 (DENALI_PHY_406_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_406);  //  PHY_GRP_SLAVE_DELAY_2:RW+:16:10:=0x0100 PHY_GRP_SLAVE_DELAY_1:RW+:0:10:=0x0100
    iowrite32 (DENALI_PHY_407_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_407);  //  PHY_GRP_SLAVE_DELAY_4:RW+:16:10:=0x0100 PHY_GRP_SLAVE_DELAY_3:RW+:0:10:=0x0100
    iowrite32 (DENALI_PHY_408_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_408);  //  PHY_GRP_SLAVE_DELAY_6:RW+:16:10:=0x0100 PHY_GRP_SLAVE_DELAY_5:RW+:0:10:=0x0100
    iowrite32 (DENALI_PHY_409_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_409);  //  PHY_PLL_OBS_0:RD:16:16:=0x0000 PHY_PLL_CTRL_OVERRIDE:RW:0:16:=0x0924
    iowrite32 (DENALI_PHY_410_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_410);  //  PHY_PLL_OBS_2:RD:16:16:=0x0000 PHY_PLL_OBS_1:RD:0:16:=0x0000
    iowrite32 (DENALI_PHY_411_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_411);  //  PHY_TCKSRE_WAIT:RW:24:4:=0x03 PHY_PLL_TESTOUT_SEL:RW:16:2:=0x02 PHY_PLL_OBS_3:RD:0:16:=0x0000
    iowrite32 (DENALI_PHY_412_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_412);  //  PHY_TDFI_PHY_WRDELAY:RW:24:1:=0x00 PHY_LP_CTRLUPD_CNTR_CFG:RW:16:5:=0x14 PHY_LS_IDLE_EN:RW:8:1:=0x00 PHY_LP_WAKEUP:RW:0:8:=0x00
    iowrite32 (DENALI_PHY_413_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_413);  //  PHY_PAD_FDBK_DRIVE:RW+:0:23:=0x000011
    iowrite32 (DENALI_PHY_414_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_414);  //  PHY_PAD_FDBK_DRIVE2:RW+:0:16:=0x0011
    iowrite32 (DENALI_PHY_415_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_415);  //  PHY_PAD_DATA_DRIVE:RW+:0:21:=0x000400
    iowrite32 (DENALI_PHY_416_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_416);  //  PHY_PAD_DQS_DRIVE:RW+:0:23:=0x000000
    iowrite32 (DENALI_PHY_417_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_417);  //  PHY_PAD_ADDR_DRIVE:RW+:0:29:=0x00000011
    iowrite32 (DENALI_PHY_418_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_418);  //  PHY_PAD_CLK_DRIVE:RW+:0:31:=0x00000011
    iowrite32 (DENALI_PHY_419_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_419);  //  PHY_PAD_FDBK_TERM:RW+:0:18:=0x004410
    iowrite32 (DENALI_PHY_420_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_420);  //  PHY_PAD_DATA_TERM:RW+:0:17:=0x004410
    iowrite32 (DENALI_PHY_421_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_421);  //  PHY_PAD_DQS_TERM:RW+:0:17:=0x004410
    iowrite32 (DENALI_PHY_422_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_422);  //  PHY_PAD_ADDR_TERM:RW+:0:18:=0x004410
    iowrite32 (DENALI_PHY_423_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_423);  //  PHY_PAD_CLK_TERM:RW+:0:18:=0x004410
    iowrite32 (DENALI_PHY_424_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_424);  //  PHY_PAD_CKE_DRIVE:RW+:0:29:=0x00000011
    iowrite32 (DENALI_PHY_425_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_425);  //  PHY_PAD_CKE_TERM:RW+:0:18:=0x004410
    iowrite32 (DENALI_PHY_426_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_426);  //  PHY_PAD_RST_DRIVE:RW+:0:29:=0x00000011
    iowrite32 (DENALI_PHY_427_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_427);  //  PHY_PAD_RST_TERM:RW+:0:18:=0x004410
    iowrite32 (DENALI_PHY_428_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_428);  //  PHY_PAD_CS_DRIVE:RW+:0:29:=0x00000011
    iowrite32 (DENALI_PHY_429_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_429);  //  PHY_PAD_CS_TERM:RW+:0:18:=0x004410
    iowrite32 (DENALI_PHY_430_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_430);  //  PHY_PAD_ODT_DRIVE:RW+:0:29:=0x00000011
    iowrite32 (DENALI_PHY_431_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_431);  //  PHY_PAD_ODT_TERM:RW+:0:18:=0x004410
    iowrite32 (DENALI_PHY_432_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_432);  //  PHY_ADRCTL_RX_CAL:RW:0:14:=0x0000
    iowrite32 (DENALI_PHY_433_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_433);  //  PHY_TST_CLK_PAD_CTRL:RW:0:32:=0x00000000
    iowrite32 (DENALI_PHY_434_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_434);  //  PHY_TST_CLK_PAD_CTRL2:RW:0:23:=0x000000
    iowrite32 (DENALI_PHY_435_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_435);  //  PHY_TST_CLK_PAD_CTRL3:RW:0:21:=0x000000
    iowrite32 (DENALI_PHY_436_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_436);  //  PHY_CAL_START_0:WR:24:1:=0x00 PHY_CAL_CLEAR_0:WR:16:1:=0x00 PHY_CAL_MODE_0:RW:0:9:=0x0004
    iowrite32 (DENALI_PHY_437_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_437);  //  PHY_CAL_INTERVAL_COUNT_0:RW:0:32:=0x00000000
    iowrite32 (DENALI_PHY_438_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_438);  //  PHY_CAL_CLK_SELECT_0:RW:8:3:=0x01 PHY_CAL_SAMPLE_WAIT_0:RW:0:8:=0x08
    iowrite32 (DENALI_PHY_439_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_439);  //  PHY_CAL_RESULT_OBS_0:RD:0:24:=0x000000
    iowrite32 (DENALI_PHY_440_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_440);  //  PHY_AC_LPBK_ERR_CLEAR:WR:24:1:=0x00 PHY_ADRCTL_MANUAL_UPDATE:WR:16:1:=0x00 PHY_PAD_ATB_CTRL:RW:0:16:=0x0000
    iowrite32 (DENALI_PHY_441_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_441);  //  PHY_AC_LPBK_CONTROL:RW:16:9:=0x0000 PHY_AC_LPBK_ENABLE:RW:8:7:=0x00 PHY_AC_LPBK_OBS_SELECT:RW:0:3:=0x00
    iowrite32 (DENALI_PHY_442_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_442);  //  PHY_AC_PRBS_PATTERN_MASK:RW:8:4:=0x00 PHY_AC_PRBS_PATTERN_START:RW_D:0:7:=0x01
    iowrite32 (DENALI_PHY_443_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_443);  //  PHY_AC_LPBK_RESULT_OBS:RD:0:32:=0x00000000
    iowrite32 (DENALI_PHY_444_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_444);  //  PHY_AC_CLK_LPBK_CONTROL:RW:16:6:=0x00 PHY_AC_CLK_LPBK_ENABLE:RW:8:1:=0x00 PHY_AC_CLK_LPBK_OBS_SELECT:RW:0:1:=0x00
    iowrite32 (DENALI_PHY_445_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_445);  //  PHY_AC_PWR_RDC_DISABLE:RW:16:1:=0x00 PHY_AC_CLK_LPBK_RESULT_OBS:RD:0:16:=0x0000
    iowrite32 (DENALI_PHY_446_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_446);  //  PHY_DDL_AC_ENABLE:RW:0:32:=0x00000000
    iowrite32 (DENALI_PHY_447_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_447);  //  PHY_DDL_AC_MODE:RW:0:11:=0x0000
    iowrite32 (DENALI_PHY_448_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_448);  //  PHY_DDL_AC_TEST_OBS:RD:0:32:=0x00000000
    iowrite32 (DENALI_PHY_449_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_449);  //  PHY_DDL_TRACK_UPD_THRESHOLD_AC:RW:24:8:=0x04 PHY_INIT_UPDATE_CONFIG:RW:16:3:=0x07 PHY_PAD_BACKGROUND_CAL:RW:8:1:=0x01 PHY_DDL_AC_TEST_INDEX:RW:0:2:=0x00
    iowrite32 (DENALI_PHY_450_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_450);  //  PHY_DS_INIT_COMPLETE_OBS:RD:24:3:=0x00 PHY_AC_INIT_COMPLETE_OBS:RD:8:15:=0x0000 PHY_DLL_RST_EN:RW_D:0:2:=0x02
    iowrite32 (DENALI_PHY_451_DATA, DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_451);  //  PHY_UPDATE_MASK:RW:0:1:=0x00

    iowrite32 (DENALI_CTL_00_DATA | 0x1, DDRx_BASE + DENALI_CTL_00); // start EMIC

}

//-----------------------------------------------------------------------------
//  This function is for changing DDR external CRG frequency
//
//  Arguments:
//
//    - pll_fbdiv    frequency multiplier coefficient
//    - pll_psdiv    frequency post divider coefficient
//
//    FREF = 16MHz
//
//                      DDR3-800      DDR3-1066     DDR3-1333      DDR3-1600
//        pll_fbdiv     0x63 (*99)    0x84 (*132)   0x52 (*82)     0x63 (*99)
//        pll_psdiv     0x1  (/4)     0x1  (/4)     0x0  (/2)      0x0  (/2)
//
//    FOUT =            396MHz        528MHz        656MHz         792MHz
//
//    So, frequency is a bit less, than maximum for corresponding settings.
//    It can be helpfull for simulation and save from freq problems later.
//-----------------------------------------------------------------------------
uint32_t crg_ddr_init
(
    uint32_t pll_fbdiv ,
    uint32_t pll_psdiv
)
{
    uint32_t timer_cntr = 0;
    
    if (
        (ioread32 (CRG_DDR_BASE + CRG_PLL_FBDIV) != pll_fbdiv) ||
        (ioread32 (CRG_DDR_BASE + CRG_PLL_PSDIV) != pll_psdiv)
        )
    {
        iowrite32 (0x1ACCE551, CRG_DDR_BASE + CRG_WR_LOCK);
        iowrite32 (0x3, CRG_DDR_BASE + CRG_PLL_CTRL);
        iowrite32 (pll_fbdiv, CRG_DDR_BASE + CRG_PLL_FBDIV);
        iowrite32 (pll_psdiv, CRG_DDR_BASE + CRG_PLL_PSDIV);

        while ((ioread32 (CRG_DDR_BASE + CRG_PLL_STAT) & 0x00000010) == 0)
        {
            timer_cntr++;
            if (timer_cntr == CRG_DDR_TEST_LIB_READY_TIMEOUT)
            {
                rumboot_printf ("  ERROR: CRG DDR PLL lock timeout 0\n");
                return -1;
            }
        }

        iowrite32 (0x0, CRG_DDR_BASE + CRG_PLL_CTRL);
        while ((ioread32 (CRG_DDR_BASE + CRG_PLL_STAT) & 0x00000011) == 0)
        {
            timer_cntr++;
            if (timer_cntr == CRG_DDR_TEST_LIB_READY_TIMEOUT)
            {
                rumboot_printf ("  ERROR: CRG DDR PLL lock timeout 1\n");
                return -1;
            }
        }
    }

    return 0;
}

//-----------------------------------------------------------------------------
//  This function is for checking Errors in one of DDR subsystem
//
//  TODO: Add Read Leveling (eye training) error checking
//
//  Arguments:
//    - DDRx_BASE
//        posible values for Basis are:
//          0x0108_0000 DDR0_BASE
//          0x0108_2000 DDR1_BASE
//
//-----------------------------------------------------------------------------
uint32_t ddr_check_status (uint32_t DDRx_BASE)
{
    uint32_t ret = 0;
    
    // rumboot_printf ("  ddr_check_status ... ");
    
    //  Report errors after initialisation
    //    Update error is allowed. Also it can appear during work.
    if ((ioread32(DDRx_BASE + DENALI_CTL_94) & (~0x207C0000)) != 0)
    {
        rumboot_printf ("\n  Unexpected DDR Core status. Errors are possible.\n\n");
        ret = -1;
    }
    if (
        ((ioread32(DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_24 ) & (0x1 << 12)) != 0) |
        ((ioread32(DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_152) & (0x1 << 12)) != 0) |
        ((ioread32(DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_280) & (0x1 << 12)) != 0)
        )
    {
        rumboot_printf ("\n  Error: DDR Phy Write Leveling.\n\n");
        ret = -1;
    }
    if (
        ((ioread32(DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_26 ) & (0x3 << 6)) != 0) |
        ((ioread32(DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_154) & (0x3 << 6)) != 0) |
        ((ioread32(DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_282) & (0x3 << 6)) != 0)
        )
    {
        rumboot_printf ("\n  Error: DDR Phy Read Gating.\n\n");
        ret = -1;
    }
    
    for (uint32_t i = 0; i < 9*4; i+=4)
        if (
            // ((ioread32(DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_307 + i) & 0x0000FFFF)         == 0) |
            // ((ioread32(DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_307 + i) & 0x0000FFFF) > 0x00000100) |
            // ((ioread32(DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_307 + i) & 0xFFFF0000)         == 0) |
            // ((ioread32(DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_307 + i) & 0xFFFF0000) > 0x01000000) |
            ((ioread32(DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_179 + i) & 0x0000FFFF)         == 0) |
            ((ioread32(DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_179 + i) & 0x0000FFFF) > 0x00000100) |
            ((ioread32(DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_179 + i) & 0xFFFF0000)         == 0) |
            ((ioread32(DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_179 + i) & 0xFFFF0000) > 0x01000000) |
            ((ioread32(DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_51 + i) & 0x0000FFFF)         == 0) |
            ((ioread32(DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_51 + i) & 0x0000FFFF) > 0x00000100) |
            ((ioread32(DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_51 + i) & 0xFFFF0000)         == 0) |
            ((ioread32(DDRx_BASE + DENALI_PHY_BASE + DENALI_PHY_51 + i) & 0xFFFF0000) > 0x01000000)
            )
        {
            rumboot_printf ("\n  Error: DDR Phy Eye Training.\n\n");
            ret = -1;
        }
    
    // if (ret == 0)
        // rumboot_printf ("OK\n");

    return ret;
}

//-----------------------------------------------------------------------------
//  This function is for turning On one of DDR subsystem
//
//  Arguments:
//    - DDRx_BASE
//        posible values for Basis are:
//          0x0108_0000 DDR0_BASE
//          0x0108_2000 DDR1_BASE
//
//-----------------------------------------------------------------------------
uint32_t ddr_init (uint32_t DDRx_BASE)
{
    uint32_t timer_cntr = 0;

    // crg_ddr_init (0x84 ,0x1);
    // crg_ddr_init (0x52 ,0x0);
    crg_ddr_init (0x63 ,0x0);
    ddr_registers_init (DDRx_BASE);
    
    while ((ioread32(DDRx_BASE + DENALI_CTL_94) & 0x00000800) == 0)
    {
        timer_cntr++;
        if (timer_cntr == DDR_TEST_LIB_READY_TIMEOUT)
        {
            rumboot_printf ("  ERROR: DDR ready timeout\n");
            return -1;
        }
    }
    iowrite32((0x1 << 11), DDRx_BASE + DENALI_CTL_95); // clear interruption flag
    
    if (ddr_check_status (DDRx_BASE) != 0)
        ;
        // return -1;

    return 0;
}

//-----------------------------------------------------------------------------
//  This function is for turning On both DDR subsystems
//  It must take less time, than two consequent ddr_init with different args
//-----------------------------------------------------------------------------
uint32_t ddr0_ddr1_init ()
{
    uint32_t timer_cntr = 0;

    crg_ddr_init (0x63 ,0x0);
    ddr_registers_init (DDR0_BASE);
    ddr_registers_init (DDR1_BASE);
    
    while (((ioread32(DDR0_BASE + DENALI_CTL_94)) & (ioread32(DDR1_BASE + DENALI_CTL_94)) & 0x00000800) == 0)
    {
        timer_cntr++;
        if (timer_cntr == DDR_TEST_LIB_READY_TIMEOUT)
        {
            rumboot_printf ("  ERROR: DDR ready timeout\n");
            return -1;
        }
    }
    iowrite32((0x1 << 11), DDR0_BASE + DENALI_CTL_95); // clear interruption flag
    iowrite32((0x1 << 11), DDR1_BASE + DENALI_CTL_95); // clear interruption flag

    if ((ddr_check_status (DDR0_BASE) != 0) | (ddr_check_status (DDR1_BASE) != 0))
        return -1;

    return 0;
}

//-----------------------------------------------------------------------------
//  This function must be called after ddr_init (or smth similar)
//  It prepares required value of SDRAM for work, if ECC is On
//-----------------------------------------------------------------------------
void ddr_ecc_init (uint32_t DDRx_BASE, uint32_t SDRAM_start_addr, uint32_t SDRAM_size)
{
    uint32_t rdata;
    
    if ((ioread32 (DDRx_BASE + DENALI_CTL_81) & (1 << 8)) != 0)
    {
        rumboot_printf ("  Note: DDR ECC is On. SDRAM will be prepared.\n");
        
        //  Disable ECC checks in Write transactions
        //  Otherwise writes will fail because of trash in SDRAM
        rdata = ioread32 (DDRx_BASE + DENALI_CTL_82);
        iowrite32 (rdata | (1 << 24), DDRx_BASE + DENALI_CTL_82);
        
        for (uint32_t i = 0; i < SDRAM_size; i+=4)
            iowrite32 (0x00000000, SDRAM_start_addr + i);
        
        //  Enable ECC checks in Write transactions
        rdata = ioread32 (DDRx_BASE + DENALI_CTL_82);
        iowrite32 (rdata & 0x00FFFFFF, DDRx_BASE + DENALI_CTL_82);
    }
    else
    {
        rumboot_printf ("  Note: DDR ECC is Off\n");
    }
}
